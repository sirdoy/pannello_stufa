{
  "permissions": {
    "allow": [
      "Bash(SANDBOX_MODE=true TEST_MODE=true npm run dev:*)",
      "Bash(SANDBOX_MODE=true TEST_MODE=true npx playwright test:*)",
      "Bash(pkill:*)",
      "WebSearch",
      "WebFetch(domain:dev.netatmo.com)",
      "Bash(node test-calibrate.js:*)",
      "Bash(node test-netatmo-calibrate.js:*)",
      "Bash(TEST_MODE=true curl:*)",
      "Bash(python3:*)",
      "Bash(curl -s \"http://localhost:3000/api/scheduler/check?secret=$CRON_SECRET:-test-secret\")",
      "Bash(curl:*)",
      "Bash(node -e:*)",
      "Bash(npm run build:*)",
      "Bash(npm test:*)",
      "Bash(git rm:*)",
      "Bash(SANDBOX_MODE=true npx playwright test:*)",
      "Bash(cat:*)",
      "Bash(git push:*)",
      "Bash(git remote set-url:*)",
      "Bash(ssh-keygen:*)",
      "Bash(ssh-keyscan:*)",
      "Bash(~/.ssh/known_hosts)",
      "Bash(brew install:*)",
      "Bash(gh --version:*)",
      "Bash(gh auth login:*)",
      "Bash(gh auth:*)",
      "Bash(git config:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(chmod:*)",
      "Bash(tee:*)",
      "Bash(git checkout:*)",
      "Bash(node scripts/test-firebase-operations.js:*)",
      "Bash(done)",
      "Bash(scripts/test-simple.sh:*)",
      "Bash(bash scripts/test-simple.sh:*)",
      "Bash(scripts/test-security-rules.sh:*)",
      "Bash(set -a)",
      "Bash(source .env.local)",
      "Bash(set +a)",
      "Bash(npm install:*)",
      "Bash(vercel env ls:*)",
      "Bash(vercel link:*)",
      "Bash(vercel logout:*)",
      "Bash(vercel login)",
      "Bash(vercel env add:*)",
      "Bash(vercel --prod --yes:*)",
      "Bash(vercel logs:*)",
      "Bash(vercel env rm:*)",
      "Bash(echo:*)",
      "Bash(vercel env pull:*)",
      "Bash(printf:*)",
      "Bash(lsof:*)",
      "Bash(xargs kill -9)",
      "Bash(npm i:*)",
      "Bash(node --trace-deprecation node_modules/.bin/next dev:*)",
      "Bash(npm outdated:*)",
      "Bash(npm run dev:*)",
      "Bash(npx next dev)",
      "Bash(find:*)",
      "Bash(NODE_ENV=production npm run build:*)",
      "Bash(npx next build:*)",
      "Bash(nvm use:*)",
      "Bash(npm uninstall:*)",
      "Bash(git clean:*)",
      "Bash(ls:*)",
      "Bash(rm:*)",
      "SlashCommand(/plan)",
      "Skill(planning-methodology)",
      "Bash(grep:*)",
      "Bash(node -c:*)",
      "Bash(node:*)",
      "Bash(timeout 15 npm run dev:*)",
      "Bash(git stash:*)",
      "Bash(npx next lint:*)",
      "Bash(npm cache clean:*)",
      "Bash(npm run lint:*)",
      "Bash(npm --version:*)",
      "Bash(npm ls:*)",
      "Skill(research)",
      "Skill(research:*)",
      "Skill(plan)",
      "Skill(plan:*)",
      "Bash(NODE_OPTIONS='--trace-warnings' npm run build:*)",
      "Bash(env -i PATH=\"$PATH\" HOME=\"$HOME\" NODE_ENV=production npm run build:*)",
      "Bash(printenv:*)",
      "Bash(kill:*)",
      "Bash(DEBUG=*)",
      "Bash(env)",
      "Bash(unset ELECTRON_RUN_AS_NODE)",
      "Bash(unset:*)",
      "Skill(workflow)",
      "Skill(workflow:*)",
      "Skill(implement)",
      "Skill(implement:*)",
      "Bash(npx eslint:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfeat: real-time Firebase sync with adaptive polling \\(v1.30.0-v1.30.1\\)\n\nReplaces 5-second HTTP polling with Firebase Realtime Database listeners for instant\nstate updates across all devices. Implements adaptive polling to detect external changes\n\\(manual stove actions, auto-shutdown\\) and sync them to all devices within 15 seconds.\n\nKey improvements:\n- Real-time listeners: <100ms latency for app-triggered actions \\(was 0-5s\\)\n- Adaptive polling: 15s when stove ON \\(external detection\\), 60s when OFF \\(efficiency\\)\n- Multi-device sync: external changes propagate to all devices via Firebase\n- 80% request reduction when stove OFF, maintains fast detection when ON\n- Connection monitoring with automatic fallback to polling if Firebase disconnects\n\nTechnical:\n- lib/stoveStateService.js: centralized Firebase state management\n- /api/stove/sync-external-state: client-to-Firebase bridge for external changes\n- StoveCard: hybrid listeners + adaptive polling with change detection\n- 7 new tests for external sync and adaptive intervals\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git push)",
      "Bash(npm run type-check:*)",
      "Bash(mkdir:*)",
      "Bash(cp:*)",
      "Bash(npm view:*)",
      "Bash(npm install)",
      "Bash(npx prettier --check app/globals.css)",
      "Bash(npx prettier --write app/globals.css)",
      "Bash(tree:*)",
      "mcp__deepwiki__read_wiki_contents",
      "mcp__deepwiki__ask_question",
      "Bash(npx tsc:*)",
      "Bash(git reset:*)",
      "Bash(wc:*)",
      "Bash(for link in \"docs/quick-start.md\" \"docs/architecture.md\" \"docs/troubleshooting.md\" \"docs/api-routes.md\" \"docs/patterns.md\" \"docs/data-flow.md\" \"docs/design-system.md\" \"docs/ui-components.md\" \"docs/ui-modal.md\" \"docs/page-transitions.md\" \"docs/ios18-liquid-glass.md\" \"docs/components/navigation.md\" \"docs/firebase.md\" \"docs/firebase-security.md\" \"docs/systems/maintenance.md\" \"docs/systems/monitoring.md\" \"docs/systems/errors.md\" \"docs/systems/notifications.md\" \"docs/setup/netatmo-setup.md\" \"docs/setup/hue-setup.md\" \"docs/pwa.md\" \"docs/testing.md\" \"docs/E2E-TESTING.md\" \"docs/visual-screenshots.md\" \"docs/sandbox.md\" \"docs/versioning.md\" \"docs/deployment.md\" \"docs/stove-status-mapping.md\" \"docs/netatmo-fixes-2025-12-28.md\" \"docs/multi-schedule-migration.md\" \"docs/component-consolidation-report.md\" \"docs/research/\" \"docs/plans/\" \"docs/reports/\" \"docs/security/\" \"docs/rollback/\")",
      "Bash(do if [ -e \"$link\" ])",
      "Bash(then echo \"OK: $link\")",
      "Bash(else echo \"BROKEN: $link\")",
      "Bash(fi)",
      "Bash(SANDBOX_MODE=true TEST_MODE=true timeout 15 npm run dev:*)",
      "Bash(vercel --version:*)"
    ],
    "deny": [],
    "ask": []
  }
}
