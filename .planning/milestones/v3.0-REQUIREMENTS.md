# Requirements Archive: v3.0 Design System Evolution

**Archived:** 2026-01-30
**Status:** ✅ SHIPPED

This is the archived requirements specification for v3.0.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## v3.0 Requirements (Design System Evolution)

Requirements for establishing complete, consistent, accessible UI component library.

### Design System Infrastructure (6/6 Complete)

- [x] **INFRA-01**: Install and configure CVA (class-variance-authority) for type-safe component variants
- [x] **INFRA-02**: Install Radix UI primitives (Dialog, Dropdown, Select, Tooltip, Slider, Checkbox, Switch)
- [x] **INFRA-03**: Set up jest-axe for automated accessibility testing
- [x] **INFRA-04**: Configure ESLint rules to enforce design token usage (block hard-coded colors)
- [x] **INFRA-05**: Create utility functions (clsx, tailwind-merge, cn helper)
- [x] **INFRA-06**: Audit and centralize design tokens using Tailwind v4 @theme directive

### Foundation Components (12/12 Complete)

- [x] **COMP-01**: Refactor Button with CVA variants (primary, secondary, success, danger, outline, ghost)
- [x] **COMP-02**: Refactor Card with liquid glass variants and proper composition
- [x] **COMP-03**: Create Checkbox with Radix UI primitive (accessible, keyboard nav, indeterminate state)
- [x] **COMP-04**: Create Switch/Toggle with Radix UI primitive (accessible, animated)
- [x] **COMP-05**: Create Radio Group component (accessible, keyboard navigation)
- [x] **COMP-06**: Create Input component (text, number, email, password variants with error states)
- [x] **COMP-07**: Create Select/Dropdown with Radix UI primitive (accessible, searchable, multi-select)
- [x] **COMP-08**: Create Slider with Radix UI primitive (accessible, range support)
- [x] **COMP-09**: Create Label component (accessible association with form controls)
- [x] **COMP-10**: Create Divider component (solid, dashed, gradient variants)
- [x] **COMP-11**: Enhance Heading component with all variants (default, gradient, subtle, ember)
- [x] **COMP-12**: Enhance Text component with typography variants (body, secondary, tertiary)

### Feedback Components (7/7 Complete)

- [x] **FEED-01**: Create Modal/Dialog with Radix UI primitive (accessible, focus trap, ESC close)
- [x] **FEED-02**: Create Tooltip with Radix UI primitive (accessible, keyboard trigger)
- [x] **FEED-03**: Refactor Toast system with dismiss, auto-dismiss, stacking
- [x] **FEED-04**: Create Spinner/Loading component (sizes, ember variant)
- [x] **FEED-05**: Create Progress component (linear, circular variants)
- [x] **FEED-06**: Create Empty State component (icon, title, description, action)
- [x] **FEED-07**: Standardize Banner component (info, warning, error, success variants)

### Layout Components (4/4 Complete)

- [x] **LAYOUT-01**: Create PageLayout component (consistent header, content, footer structure)
- [x] **LAYOUT-02**: Create DashboardLayout component (grid system for device cards)
- [x] **LAYOUT-03**: Enhance Section component (consistent spacing, title, description)
- [x] **LAYOUT-04**: Enhance Grid component (responsive columns, gap variants)

### Smart Home Components Refactor (6/6 Complete)

- [x] **DOMAIN-01**: Standardize StatusCard component (unified API for all device status displays)
- [x] **DOMAIN-02**: Standardize DeviceCard component (consistent structure for stove/thermostat/lights)
- [x] **DOMAIN-03**: Extract and standardize Badge component (status indicators with pulse animation)
- [x] **DOMAIN-04**: Standardize ControlButton component (increment/decrement with variants)
- [x] **DOMAIN-05**: Create unified ConnectionStatus component (online/offline/connecting states)
- [x] **DOMAIN-06**: Create unified HealthIndicator component (ok/warning/error/critical states)

### Page Refactoring & Application (9/9 Complete)

- [x] **PAGE-01**: Refactor Dashboard page to use new components
- [x] **PAGE-02**: Refactor Stove page to use new DeviceCard and StatusCard
- [x] **PAGE-03**: Refactor Thermostat page to use new components
- [x] **PAGE-04**: Refactor Lights page to use new components
- ~~**PAGE-05**: Refactor Camera page~~ — Removed (page does not exist in codebase)
- [x] **PAGE-06**: Refactor Monitoring dashboard to use new components
- [x] **PAGE-07**: Refactor Notifications page to use new components
- [x] **PAGE-08**: Refactor Settings page to use new form components
- [x] **PAGE-09**: Refactor Schedule UI to use new components
- [x] **PAGE-10**: Refactor Admin pages to use new components

### Accessibility & Testing (8/8 Complete)

- [x] **A11Y-01**: All interactive components have keyboard navigation
- [x] **A11Y-02**: All interactive components have focus indicators (ember glow ring)
- [x] **A11Y-03**: All form controls have proper ARIA labels and associations
- [x] **A11Y-04**: Color contrast meets WCAG AA (4.5:1 text, 3:1 large text)
- [x] **A11Y-05**: Touch targets are 44px minimum on mobile
- [x] **A11Y-06**: Reduced motion preferences respected (prefers-reduced-motion)
- [x] **A11Y-07**: Screen reader support for dynamic content (ARIA live regions)
- [x] **A11Y-08**: All components pass jest-axe automated tests

### Documentation (4/4 Applicable Complete)

- [x] **DOC-01**: Update /debug/design-system page with all new components
- [x] **DOC-02**: Document component APIs (props, variants, examples)
- ~~**DOC-03**: Create migration guide for developers~~ — Not needed (user decision)
- [x] **DOC-04**: Update docs/design-system.md with new patterns
- [x] **DOC-05**: Document accessibility features per component

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| INFRA-01 | Phase 11 | ✅ Complete |
| INFRA-02 | Phase 11 | ✅ Complete |
| INFRA-03 | Phase 11 | ✅ Complete |
| INFRA-04 | Phase 11 | ✅ Complete |
| INFRA-05 | Phase 11 | ✅ Complete |
| INFRA-06 | Phase 11 | ✅ Complete |
| COMP-01 | Phase 13 | ✅ Complete |
| COMP-02 | Phase 13 | ✅ Complete |
| COMP-03 | Phase 12 | ✅ Complete |
| COMP-04 | Phase 12 | ✅ Complete |
| COMP-05 | Phase 12 | ✅ Complete |
| COMP-06 | Phase 12 | ✅ Complete |
| COMP-07 | Phase 12 | ✅ Complete |
| COMP-08 | Phase 12 | ✅ Complete |
| COMP-09 | Phase 13 | ✅ Complete |
| COMP-10 | Phase 13 | ✅ Complete |
| COMP-11 | Phase 13 | ✅ Complete |
| COMP-12 | Phase 13 | ✅ Complete |
| FEED-01 | Phase 14 | ✅ Complete |
| FEED-02 | Phase 14 | ✅ Complete |
| FEED-03 | Phase 14 | ✅ Complete |
| FEED-04 | Phase 14 | ✅ Complete |
| FEED-05 | Phase 14 | ✅ Complete |
| FEED-06 | Phase 14 | ✅ Complete |
| FEED-07 | Phase 14 | ✅ Complete |
| LAYOUT-01 | Phase 14 | ✅ Complete |
| LAYOUT-02 | Phase 14 | ✅ Complete |
| LAYOUT-03 | Phase 14 | ✅ Complete |
| LAYOUT-04 | Phase 14 | ✅ Complete |
| DOMAIN-01 | Phase 15 | ✅ Complete |
| DOMAIN-02 | Phase 15 | ✅ Complete |
| DOMAIN-03 | Phase 15 | ✅ Complete |
| DOMAIN-04 | Phase 15 | ✅ Complete |
| DOMAIN-05 | Phase 15 | ✅ Complete |
| DOMAIN-06 | Phase 15 | ✅ Complete |
| PAGE-01 | Phase 16 | ✅ Complete |
| PAGE-02 | Phase 16 | ✅ Complete |
| PAGE-03 | Phase 16 | ✅ Complete |
| PAGE-04 | Phase 16 | ✅ Complete |
| PAGE-06 | Phase 16 | ✅ Complete |
| PAGE-07 | Phase 16 | ✅ Complete |
| PAGE-08 | Phase 16 | ✅ Complete |
| PAGE-09 | Phase 16 | ✅ Complete |
| PAGE-10 | Phase 16 | ✅ Complete |
| A11Y-01 | Phase 17 | ✅ Complete |
| A11Y-02 | Phase 17 | ✅ Complete |
| A11Y-03 | Phase 17 | ✅ Complete |
| A11Y-04 | Phase 17 | ✅ Complete |
| A11Y-05 | Phase 17 | ✅ Complete |
| A11Y-06 | Phase 17 | ✅ Complete |
| A11Y-07 | Phase 17 | ✅ Complete |
| A11Y-08 | Phase 17 | ✅ Complete |
| DOC-01 | Phase 18 | ✅ Complete |
| DOC-02 | Phase 18 | ✅ Complete |
| DOC-04 | Phase 18 | ✅ Complete |
| DOC-05 | Phase 18 | ✅ Complete |

**Coverage:**
- v3.0 requirements: 48 total (PAGE-05 removed, DOC-03 skipped)
- Mapped to phases: 48 (100%)
- Completed: 48 (100%)

---

## Milestone Summary

**Shipped:** 48 of 48 v3.0 requirements (100%)

**Adjusted during implementation:**
- PAGE-05 (Camera page) — Removed, page does not exist in codebase
- DOC-03 (Migration guide) — Skipped per user decision (not needed)

**Dropped:** None

---
*Archived: 2026-01-30 as part of v3.0 milestone completion*
