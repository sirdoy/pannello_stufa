---
phase: 13-foundation-refactoring
plan: 07
type: execute
wave: 1
depends_on: []
files_modified:
  - app/components/scheduler/DuplicateDayModal.js
  - app/components/scheduler/CreateScheduleModal.js
  - app/components/scheduler/AddIntervalModal.js
  - app/components/scheduler/ScheduleManagementModal.js
  - app/components/scheduler/ScheduleInterval.js
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "All Card usages of liquid prop in scheduler components migrated to variant='glass'"
    - "No legacy liquid prop remains on any Card component in scheduler directory"
    - "Application builds and runs without Card-related errors"
  artifacts:
    - path: "app/components/scheduler/DuplicateDayModal.js"
      provides: "Updated Card usage"
      contains: 'variant="glass"'
    - path: "app/components/scheduler/CreateScheduleModal.js"
      provides: "Updated Card usage"
      contains: 'variant="glass"'
    - path: "app/components/scheduler/AddIntervalModal.js"
      provides: "Updated Card usage"
      contains: 'variant="glass"'
    - path: "app/components/scheduler/ScheduleManagementModal.js"
      provides: "Updated Card usage"
      contains: 'variant="glass"'
    - path: "app/components/scheduler/ScheduleInterval.js"
      provides: "Updated Card usage"
      contains: 'variant="glass"'
  key_links:
    - from: "app/components/scheduler/*.js"
      to: "Card"
      via: "variant prop"
      pattern: 'variant="glass"'
---

<objective>
Close verification gap by migrating remaining 5 scheduler components from legacy Card liquid prop to variant="glass".

Purpose: Complete the Card migration started in 13-06, addressing 5 scheduler modal components that were missed in the original plan.
Output: All Card usages across entire codebase use the new CVA API with explicit variant names.
</objective>

<execution_context>
@/Users/federicomanfredi/.claude/get-shit-done/workflows/execute-plan.md
@/Users/federicomanfredi/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/13-foundation-refactoring/13-VERIFICATION.md
@.planning/phases/13-foundation-refactoring/13-06-SUMMARY.md
@app/components/ui/Card.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate Card liquid prop in scheduler modal components</name>
  <files>app/components/scheduler/DuplicateDayModal.js, app/components/scheduler/CreateScheduleModal.js, app/components/scheduler/AddIntervalModal.js, app/components/scheduler/ScheduleManagementModal.js, app/components/scheduler/ScheduleInterval.js</files>
  <action>
Migrate legacy Card liquid prop to variant="glass" in all 5 remaining scheduler components.

**Migration pattern:**
The legacy `liquid` prop is on a separate line from `<Card`. Replace the multi-line pattern:
```jsx
<Card
  liquid
  className="..."
```
with:
```jsx
<Card
  variant="glass"
  className="..."
```

**Files and exact locations:**

1. **app/components/scheduler/DuplicateDayModal.js (line 61-63):**
   ```jsx
   <Card
     liquid
     className="p-6 animate-scale-in-center"
   ```
   Change `liquid` to `variant="glass"`

2. **app/components/scheduler/CreateScheduleModal.js (line 100-102):**
   ```jsx
   <Card
     liquid
     className="animate-scale-in-center p-6 sm:p-8"
   ```
   Change `liquid` to `variant="glass"`

3. **app/components/scheduler/AddIntervalModal.js (line 135-137):**
   ```jsx
   <Card
     liquid
     className="p-6 animate-scale-in-center"
   ```
   Change `liquid` to `variant="glass"`

4. **app/components/scheduler/ScheduleManagementModal.js (line 137-139):**
   ```jsx
   <Card
     liquid
     className="animate-scale-in-center p-6 sm:p-8"
   ```
   Change `liquid` to `variant="glass"`

5. **app/components/scheduler/ScheduleInterval.js (line 21-23):**
   ```jsx
   <Card
     liquid
     className={`cursor-pointer transition-all...`}
   ```
   Change `liquid` to `variant="glass"`

**Approach:**
For each file:
1. Read the file
2. Replace `liquid` (on its own line after `<Card`) with `variant="glass"`
3. Write the updated file
4. Verify no other liquid props remain in the file
  </action>
  <verify>grep -r 'liquid' app/components/scheduler --include="*.js" | grep -v 'shadow-liquid' returns empty (shadow-liquid is a Tailwind class, not a prop)</verify>
  <done>All 5 remaining Card liquid usages in scheduler components migrated to variant="glass"</done>
</task>

</tasks>

<verification>
1. Run grep to verify no Card `liquid` prop remains in scheduler:
   `grep -rn 'liquid' app/components/scheduler --include="*.js" | grep -v 'shadow-liquid'` returns empty
2. Run grep to verify no Card `liquid` prop remains in entire codebase:
   `grep -rn '<Card' app --include="*.js" -A 3 | grep 'liquid'` returns empty
3. Spot-check one migrated modal (e.g., DuplicateDayModal) renders correctly
4. Run Card tests to ensure no regressions: `npm test -- Card`
</verification>

<success_criteria>
- All 5 `<Card liquid` usages in scheduler migrated to `<Card variant="glass"`
- No legacy `liquid` prop remains on any Card component in codebase
- Scheduler modals render correctly with glass variant
- Card component tests still pass
- VERIFICATION.md gap closed (score: 5/5)
</success_criteria>

<output>
After completion, create `.planning/phases/13-foundation-refactoring/13-07-SUMMARY.md`
</output>
