---
phase: 15-smart-home-components
plan: 09
type: execute
wave: 1
depends_on: []
files_modified:
  - app/debug/design-system/page.js
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Design system page displays Badge component with all variants and pulse animation"
    - "Design system page displays ConnectionStatus component with all states"
    - "Design system page displays HealthIndicator component with all severity levels"
    - "Design system page displays SmartHomeCard with namespace pattern"
    - "Design system page displays StatusCard as specialized smart home card"
  artifacts:
    - path: "app/debug/design-system/page.js"
      provides: "Component showcase page"
      contains: "Badge"
  key_links:
    - from: "app/debug/design-system/page.js"
      to: "app/components/ui/Badge.js"
      via: "Badge import"
      pattern: "import.*Badge.*from"
---

<objective>
Add Phase 15 smart home components to design system showcase page.

Purpose: Phase 15 created Badge, ConnectionStatus, HealthIndicator, SmartHomeCard, and StatusCard components but they are not showcased in the design system page. Adding them ensures developers can reference all available components.

Output: Design system page displays all Phase 15 components with interactive examples.
</objective>

<execution_context>
@/Users/federicomanfredi/.claude/get-shit-done/workflows/execute-plan.md
@/Users/federicomanfredi/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Phase 15 component imports</name>
  <files>app/debug/design-system/page.js</files>
  <action>
  Add imports for Phase 15 components at top of file.

  After existing imports, add:
  ```jsx
  import Badge from '@/app/components/ui/Badge';
  import ConnectionStatus from '@/app/components/ui/ConnectionStatus';
  import HealthIndicator from '@/app/components/ui/HealthIndicator';
  import SmartHomeCard from '@/app/components/ui/SmartHomeCard';
  import StatusCard from '@/app/components/ui/StatusCard';
  import ControlButton from '@/app/components/ui/ControlButton';
  ```
  </action>
  <verify>File saves without import errors</verify>
  <done>All Phase 15 components imported</done>
</task>

<task type="auto">
  <name>Task 2: Add Badge section to design system page</name>
  <files>app/debug/design-system/page.js</files>
  <action>
  Add a Badge section after the existing Status Badges section (around line 458).

  Insert new Section:
  ```jsx
  {/* Badge Component (v3.0+) */}
  <Section title="Badge (CVA)" icon="ðŸ·ï¸" docs="docs/design-system.md#badge">
    <Card>
      <CardContent>
        <div className="space-y-6">
          {/* Variants */}
          <div>
            <Text variant="label" size="xs" className="mb-3">Badge Variants</Text>
            <Text variant="tertiary" size="sm" className="mb-4">
              Props: variant (ember|sage|ocean|warning|danger|neutral), size (sm|md|lg), pulse, icon
            </Text>
            <div className="flex flex-wrap gap-3">
              <Badge variant="ember">Ember</Badge>
              <Badge variant="sage">Sage</Badge>
              <Badge variant="ocean">Ocean</Badge>
              <Badge variant="warning">Warning</Badge>
              <Badge variant="danger">Danger</Badge>
              <Badge variant="neutral">Neutral</Badge>
            </div>
          </div>

          <CardDivider />

          {/* Sizes */}
          <div>
            <Text variant="label" size="xs" className="mb-3">Sizes</Text>
            <div className="flex flex-wrap items-center gap-3">
              <Badge variant="ember" size="sm">Small</Badge>
              <Badge variant="ember" size="md">Medium</Badge>
              <Badge variant="ember" size="lg">Large</Badge>
            </div>
          </div>

          <CardDivider />

          {/* Pulse Animation */}
          <div>
            <Text variant="label" size="xs" className="mb-3">Pulse Animation</Text>
            <Text variant="tertiary" size="sm" className="mb-3">
              Use pulse=true for active states (ember, sage, primary, success)
            </Text>
            <div className="flex flex-wrap gap-3">
              <Badge variant="ember" pulse>Active</Badge>
              <Badge variant="sage" pulse>Online</Badge>
              <Badge variant="neutral">Inactive</Badge>
            </div>
          </div>

          <CardDivider />

          {/* With Icon */}
          <div>
            <Text variant="label" size="xs" className="mb-3">With Icon</Text>
            <div className="flex flex-wrap gap-3">
              <Badge variant="ember" icon="ðŸ”¥">Heating</Badge>
              <Badge variant="sage" icon="âœ“">Connected</Badge>
              <Badge variant="warning" icon="âš ï¸">Warning</Badge>
            </div>
          </div>
        </div>
      </CardContent>
    </Card>
  </Section>
  ```
  </action>
  <verify>Badge section renders with all variants visible</verify>
  <done>Badge section added to design system page</done>
</task>

<task type="auto">
  <name>Task 3: Add Smart Home Components section</name>
  <files>app/debug/design-system/page.js</files>
  <action>
  Add a Smart Home Components section after the Badge section.

  Insert new Section:
  ```jsx
  {/* Smart Home Components (v3.0+) */}
  <Section title="Smart Home Components" icon="ðŸ " docs="docs/design-system.md#smart-home">
    <div className="space-y-6">
      {/* ConnectionStatus */}
      <Card>
        <CardContent>
          <Text variant="label" size="xs" className="mb-3">ConnectionStatus</Text>
          <Text variant="tertiary" size="sm" className="mb-4">
            Props: status (online|offline|connecting|unknown), size (sm|md|lg), label, showDot
          </Text>
          <div className="flex flex-wrap gap-6">
            <ConnectionStatus status="online" />
            <ConnectionStatus status="offline" />
            <ConnectionStatus status="connecting" />
            <ConnectionStatus status="unknown" />
          </div>
          <div className="mt-4 flex flex-wrap gap-6">
            <ConnectionStatus status="online" size="sm" />
            <ConnectionStatus status="online" size="md" />
            <ConnectionStatus status="online" size="lg" />
          </div>
        </CardContent>
      </Card>

      {/* HealthIndicator */}
      <Card>
        <CardContent>
          <Text variant="label" size="xs" className="mb-3">HealthIndicator</Text>
          <Text variant="tertiary" size="sm" className="mb-4">
            Props: status (ok|warning|error|critical), size (sm|md|lg), label, showIcon, pulse
          </Text>
          <div className="flex flex-wrap gap-6">
            <HealthIndicator status="ok" />
            <HealthIndicator status="warning" />
            <HealthIndicator status="error" />
            <HealthIndicator status="critical" />
          </div>
          <div className="mt-4 flex flex-wrap gap-6">
            <HealthIndicator status="critical" pulse label="Sistema critico" />
            <HealthIndicator status="warning" label="Manutenzione richiesta" />
          </div>
        </CardContent>
      </Card>

      {/* SmartHomeCard */}
      <Card>
        <CardContent>
          <Text variant="label" size="xs" className="mb-3">SmartHomeCard</Text>
          <Text variant="tertiary" size="sm" className="mb-4">
            Base card for device controls. Props: icon, title, size (compact|default), colorTheme, isLoading, error, disabled.
            Namespace: SmartHomeCard.Header, SmartHomeCard.Status, SmartHomeCard.Controls
          </Text>
        </CardContent>
      </Card>
      <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
        <SmartHomeCard icon="ðŸŒ¡ï¸" title="Thermostat" colorTheme="ember">
          <SmartHomeCard.Status>
            <Badge variant="ember" pulse>Riscaldamento</Badge>
          </SmartHomeCard.Status>
          <SmartHomeCard.Controls>
            <Text variant="secondary">22Â°C â†’ 24Â°C</Text>
          </SmartHomeCard.Controls>
        </SmartHomeCard>

        <SmartHomeCard icon="ðŸ’¡" title="Luci" colorTheme="sage" size="compact">
          <SmartHomeCard.Status>
            <Badge variant="sage">Accese</Badge>
          </SmartHomeCard.Status>
          <SmartHomeCard.Controls>
            <Text variant="secondary" size="sm">3 luci attive</Text>
          </SmartHomeCard.Controls>
        </SmartHomeCard>
      </div>

      {/* StatusCard */}
      <Card>
        <CardContent>
          <Text variant="label" size="xs" className="mb-3">StatusCard</Text>
          <Text variant="tertiary" size="sm" className="mb-4">
            Extends SmartHomeCard with integrated Badge and ConnectionStatus.
            Props: status, statusVariant, connectionStatus
          </Text>
        </CardContent>
      </Card>
      <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
        <StatusCard
          icon="ðŸ”¥"
          title="Stufa"
          status="In funzione"
          statusVariant="ember"
          connectionStatus="online"
          colorTheme="ember"
        />
        <StatusCard
          icon="ðŸ“¹"
          title="Camera"
          status="Spenta"
          statusVariant="neutral"
          connectionStatus="offline"
          colorTheme="ocean"
          size="compact"
        />
      </div>

      {/* ControlButton */}
      <Card>
        <CardContent>
          <Text variant="label" size="xs" className="mb-3">ControlButton</Text>
          <Text variant="tertiary" size="sm" className="mb-4">
            Increment/decrement button with long-press support and haptic feedback.
            Props: type (increment|decrement), variant, size, step, onChange, longPressDelay, longPressInterval, haptic
          </Text>
          <div className="flex items-center gap-4">
            <div className="flex items-center gap-2">
              <ControlButton type="decrement" size="sm" variant="subtle" onChange={() => {}} />
              <Text variant="secondary">Value</Text>
              <ControlButton type="increment" size="sm" variant="subtle" onChange={() => {}} />
            </div>
            <div className="flex items-center gap-2">
              <ControlButton type="decrement" size="md" variant="ember" onChange={() => {}} />
              <Text variant="ember" weight="bold">22Â°C</Text>
              <ControlButton type="increment" size="md" variant="ember" onChange={() => {}} />
            </div>
          </div>
          <Text variant="tertiary" size="xs" className="mt-3">
            Long-press: hold button to continuously increment/decrement
          </Text>
        </CardContent>
      </Card>
    </div>
  </Section>
  ```
  </action>
  <verify>Smart Home Components section renders with all components visible</verify>
  <done>All Phase 15 components showcased in design system page</done>
</task>

</tasks>

<verification>
1. `npm run dev` starts without errors
2. Navigate to /debug/design-system
3. Scroll to find Badge section with all variants and pulse animation
4. Find Smart Home Components section with:
   - ConnectionStatus with all states (online/offline/connecting/unknown)
   - HealthIndicator with all severities (ok/warning/error/critical)
   - SmartHomeCard with namespace pattern demo
   - StatusCard examples
   - ControlButton with increment/decrement
5. Pulse animation visible on Badge examples
</verification>

<success_criteria>
- Badge section displays all variants, sizes, and pulse animation
- ConnectionStatus displays all connection states
- HealthIndicator displays all severity levels
- SmartHomeCard demonstrates namespace pattern
- StatusCard shows integrated Badge and ConnectionStatus
- ControlButton demonstrates increment/decrement with long-press note
</success_criteria>

<rollback>
If design system page breaks, check for missing imports or typos.
Component APIs are stable from Phase 15 implementation.
</rollback>

<output>
After completion, create `.planning/phases/15-smart-home-components/15-09-SUMMARY.md`
</output>
