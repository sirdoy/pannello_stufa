---
phase: 16-page-migration
plan: 06
type: execute
wave: 3
depends_on: ["16-03"]
files_modified:
  - app/schedule/page.js
autonomous: true

must_haves:
  truths:
    - "Schedule page uses consistent Card variants"
    - "Buttons use correct variants (ember for primary action)"
    - "Grid used for any list layouts"
  artifacts:
    - path: "app/schedule/page.js"
      provides: "Schedule management page with design system"
      contains: "Card variant"
  key_links:
    - from: "app/schedule/page.js"
      to: "app/components/ui"
      via: "imports"
      pattern: "from.*components/ui"
---

<objective>
Verify and complete Schedule page migration

Purpose: Ensure schedule management page uses design system consistently
Output: Schedule page with consistent Card, Button, and Heading usage
</objective>

<execution_context>
@/Users/federicomanfredi/.claude/get-shit-done/workflows/execute-plan.md
@/Users/federicomanfredi/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/16-page-migration/16-CONTEXT.md
@app/schedule/page.js
@app/components/ui/index.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Audit Schedule page and complete migration</name>
  <files>app/schedule/page.js</files>
  <action>
Review Schedule page - already 80% migrated based on research:

**Currently using design system:**
- Card variant="glass" and variant="elevated"
- Heading with levels and sizes
- Text with variants
- Button with variants
- Skeleton for loading

**Items to verify/fix:**

1. **Button variants (line ~68):**
   ```javascript
   // Check: Is variant="secondary" valid? Should it be "subtle"?
   <Button variant="secondary" size="sm" onClick={refetch} icon={<RefreshCw size={16} />}>
     Aggiorna
   </Button>
   ```
   Per STATE.md: variant="subtle" for secondary actions. Update if needed.

2. **Card variants:**
   - Card variant="glass" for selector and timeline (correct)
   - Card variant="elevated" for override sections (correct)

3. **Page wrapper:**
   ```javascript
   // Current
   <div className="max-w-4xl mx-auto px-4 sm:px-6 py-8">
   ```
   This is fine - schedule page has narrower max-width intentionally.

4. **Override badges section (lines ~102-120):**
   - Verify ActiveOverrideBadge component uses design system internally
   - Don't modify child components in this plan

5. **Heading icon pattern:**
   ```javascript
   <Heading level={1} size="3xl" className="flex items-center gap-3">
     <Calendar className="text-ember-400" />
     Programmazione
   </Heading>
   ```
   This is acceptable - Heading with inline icon.

**Primary fix needed:**
- Update variant="secondary" to variant="subtle" if using non-standard variant
  </action>
  <verify>
- Schedule page loads at localhost:3000/schedule
- All buttons functional
- Cards display correctly
  </verify>
  <done>Schedule page uses correct Button variants and consistent design system patterns</done>
</task>

<task type="auto">
  <name>Task 2: Ensure consistent imports and patterns</name>
  <files>app/schedule/page.js</files>
  <action>
Verify import patterns and cleanup:

1. **Check import source:**
   ```javascript
   // Should be from centralized index:
   import { Card, Heading, Text, Button, Skeleton, ErrorAlert } from '@/app/components/ui';
   ```

2. **Verify no duplicate imports:**
   - All UI components from single source
   - lucide-react icons imported separately (correct)

3. **Check for any inline styles:**
   - No hardcoded colors
   - All spacing uses Tailwind tokens

4. **Heading hierarchy:**
   - h1: "Programmazione" (page title)
   - h2: "Programmazione Settimanale" (section)
   - h3: "Override Attivi", "Override Manuale" (subsections)

5. **Text variants:**
   - variant="secondary" for descriptions
   - variant="tertiary" for metadata

No major changes expected - this is primarily verification.
  </action>
  <verify>
- Check imports in file
- Visual inspection for consistency
  </verify>
  <done>Schedule page has clean imports and consistent patterns</done>
</task>

</tasks>

<verification>
1. Schedule page loads at localhost:3000/schedule
2. Schedule selector works
3. Timeline displays correctly
4. Override badge shows for active overrides
5. Boost button opens override sheet
6. No console errors
</verification>

<success_criteria>
- Button variant="subtle" for secondary actions (not "secondary")
- All imports from centralized ui/index.js
- Proper heading hierarchy (h1 > h2 > h3)
- Consistent Card variant usage
</success_criteria>

<output>
After completion, create `.planning/phases/16-page-migration/16-06-SUMMARY.md`
</output>
