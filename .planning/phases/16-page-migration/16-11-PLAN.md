---
phase: 16-page-migration
plan: 11
type: execute
wave: 4
depends_on: ["16-08"]
files_modified:
  - app/debug/page.js
  - app/debug/logs/page.js
  - app/debug/transitions/page.js
autonomous: true

must_haves:
  truths:
    - "Debug main page uses PageLayout for consistent structure"
    - "Debug logs page uses Banner for info sections"
    - "Debug transitions page uses design system Card patterns"
  artifacts:
    - path: "app/debug/page.js"
      provides: "Debug API page with design system"
      contains: "PageLayout"
    - path: "app/debug/logs/page.js"
      provides: "Debug logs with design system"
      contains: "Banner"
    - path: "app/debug/transitions/page.js"
      provides: "Transitions demo with design system"
      contains: "Card"
  key_links:
    - from: "app/debug/page.js"
      to: "app/components/ui/PageLayout"
      via: "imports"
      pattern: "import.*PageLayout"
---

<objective>
Migrate Admin/Debug pages to design system

Purpose: Complete admin section migration for visual consistency across all pages
Output: Debug pages using PageLayout, Banner, Card, and consistent design patterns
</objective>

<execution_context>
@/Users/federicomanfredi/.claude/get-shit-done/workflows/execute-plan.md
@/Users/federicomanfredi/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/16-page-migration/16-CONTEXT.md
@app/debug/page.js
@app/debug/logs/page.js
@app/debug/transitions/page.js
@app/components/ui/PageLayout.js
@app/components/ui/Banner.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate Debug main page (app/debug/page.js)</name>
  <files>app/debug/page.js</files>
  <action>
Debug main page already uses Card, Button, Heading, Text. Add PageLayout wrapper and clean up inline styles:

**1. Add PageLayout wrapper:**
```javascript
import PageLayout from '@/app/components/ui/PageLayout';

// Wrap content
<PageLayout maxWidth="4xl">
  {/* existing content */}
</PageLayout>
```

**2. Convert info box (lines ~203-223) to Banner:**
```javascript
// BEFORE
<Card className="p-6 bg-warning-50 [html:not(.dark)_&]:bg-warning-50 border-2 border-warning-200 ...">
  <div className="flex items-start gap-3">
    <span className="text-3xl">...</span>
    <div>
      <Heading level={3} size="lg" variant="warning">Come Funziona...</Heading>
      <ul>...</ul>
    </div>
  </div>
</Card>

// AFTER - For complex content, keep Card but clean up classes
// Or use Banner for simpler messages
<Banner
  variant="warning"
  icon="..."
  title="Come Funziona il Rilevamento Errori"
>
  <ul className="space-y-2 ml-4 mt-2">
    ...
  </ul>
</Banner>
```

Note: Banner may not support complex children. If not, keep Card but ensure design token consistency.

**3. Clean up Card color classes:**
- Replace `bg-ember-50 [html:not(.dark)_&]:bg-ember-50` patterns
- Use consistent border patterns from design system

**4. Verify all buttons use Button component (already done).**
  </action>
  <verify>
- localhost:3000/debug loads correctly
- PageLayout provides consistent structure
- Info section displays properly
- Auto-refresh works
  </verify>
  <done>Debug main page wrapped in PageLayout, consistent styling</done>
</task>

<task type="auto">
  <name>Task 2: Migrate Debug logs page (app/debug/logs/page.js)</name>
  <files>app/debug/logs/page.js</files>
  <action>
Debug logs page already uses Card, Button, Heading, Text. Clean up remaining inline styles:

**1. Add PageLayout wrapper:**
```javascript
import PageLayout from '@/app/components/ui/PageLayout';

<PageLayout maxWidth="4xl">
  {/* existing content */}
</PageLayout>
```

**2. Clean up log item Card styling (lines ~119-152):**
```javascript
// BEFORE - inline conditional classes
<Card
  className={`p-4 ${
    log.message.includes('Errore')
      ? 'border-l-4 border-l-ember-500 bg-ember-50/30 dark:bg-ember-950/20'
      : log.message.includes('successo')
      ? 'border-l-4 border-l-sage-500 bg-sage-50/30 dark:bg-sage-950/20'
      : 'bg-slate-50 dark:bg-slate-800/30'
  }`}
>

// AFTER - use design system tokens consistently
// Conditional border is acceptable for visual distinction
// Ensure bg classes use proper light/dark patterns:
className={`p-4 ${
  log.message.includes('Errore')
    ? 'border-l-4 border-l-ember-500 bg-ember-500/10 [html:not(.dark)_&]:bg-ember-50'
    : log.message.includes('successo')
    ? 'border-l-4 border-l-sage-500 bg-sage-500/10 [html:not(.dark)_&]:bg-sage-50'
    : 'bg-surface'
}`}
```

**3. Convert info Card (lines ~159-174) to Banner:**
```javascript
// BEFORE
<Card className="p-6 bg-ocean-50 dark:bg-ocean-950/30 border-2 border-ocean-200 dark:border-ocean-800">

// AFTER
<Banner variant="info" icon="..." title="Come Usare il Debug">
  <ul className="space-y-2 ml-4 mt-2">
    ...
  </ul>
</Banner>
```

**4. Ensure empty state uses EmptyState component or consistent pattern.**
  </action>
  <verify>
- localhost:3000/debug/logs loads correctly
- Log items display with correct status colors
- Category switching works
- Info section displays
  </verify>
  <done>Debug logs page with consistent styling and PageLayout</done>
</task>

<task type="auto">
  <name>Task 3: Migrate Debug transitions page (app/debug/transitions/page.js)</name>
  <files>app/debug/transitions/page.js</files>
  <action>
Debug transitions page has extensive inline styling. Focus on key improvements:

**1. Add PageLayout wrapper:**
```javascript
import PageLayout from '@/app/components/ui/PageLayout';

<PageLayout maxWidth="4xl">
  {/* existing content */}
</PageLayout>
```

**2. Clean up status Card (lines ~101-134):**
Current uses `card-ember` custom class. Verify this maps to Card component or use Card directly:
```javascript
// If card-ember is a custom class, replace with:
<Card variant="glass" className="p-6 border-2 border-ember-500/20 shadow-ember-glow-sm">
```

**3. Transition type selection buttons (lines ~143-209):**
These are selection cards similar to theme page. Keep as styled buttons but:
- Verify design token usage is consistent
- Ensure dark mode works correctly
- Consider using Card for the selected state styling

**4. Demo page links (lines ~220-269):**
Using `card-ember` custom class with TransitionLink. Verify consistency:
```javascript
// Should use Card component if possible, or ensure custom class matches
<TransitionLink href={page.href}>
  <Card className="p-6 hover:shadow-card-hover ...">
    ...
  </Card>
</TransitionLink>
```

**5. Browser support info (lines ~274-291):**
Convert to Banner or keep as Card with consistent styling.

**Note:** This page has intentional custom styling for demonstration purposes. Focus on:
- PageLayout wrapper
- Consistent design token usage
- Card component where applicable

Don't over-migrate - some custom styling is appropriate for a transitions demo page.
  </action>
  <verify>
- localhost:3000/debug/transitions loads correctly
- Transition type selection works
- Demo links navigate with transitions
- Browser info displays
  </verify>
  <done>Debug transitions page with PageLayout and consistent key patterns</done>
</task>

</tasks>

<verification>
1. All debug pages load correctly
2. PageLayout provides consistent structure across all
3. Info/help sections use Banner or consistent Card patterns
4. Button component used for all actions
5. No console errors
6. Dark/light mode works on all pages
</verification>

<success_criteria>
- All three debug pages wrapped in PageLayout
- Banner used for info/help sections where appropriate
- Consistent Card styling throughout
- Button component for all interactive elements
- Design token consistency (no one-off color classes)
</success_criteria>

<output>
After completion, create `.planning/phases/16-page-migration/16-11-SUMMARY.md`
</output>
