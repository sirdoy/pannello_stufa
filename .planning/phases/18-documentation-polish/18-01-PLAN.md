---
phase: 18-documentation-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - app/debug/design-system/components/CodeBlock.js
  - app/debug/design-system/components/PropTable.js
  - app/debug/design-system/components/AccessibilitySection.js
  - app/debug/design-system/components/ComponentDemo.js
autonomous: true

must_haves:
  truths:
    - "Developer can see syntax-highlighted JSX code"
    - "Developer can copy code with one click"
    - "Developer can see component props in tabular format"
    - "Developer can see accessibility info for interactive components"
  artifacts:
    - path: "app/debug/design-system/components/CodeBlock.js"
      provides: "Syntax highlighting + copy button"
      exports: ["default"]
    - path: "app/debug/design-system/components/PropTable.js"
      provides: "Component API table"
      exports: ["default"]
    - path: "app/debug/design-system/components/AccessibilitySection.js"
      provides: "A11y documentation block"
      exports: ["default"]
    - path: "app/debug/design-system/components/ComponentDemo.js"
      provides: "Side-by-side code + preview"
      exports: ["default"]
  key_links:
    - from: "app/debug/design-system/components/CodeBlock.js"
      to: "react-syntax-highlighter"
      via: "import"
      pattern: "import.*SyntaxHighlighter"
    - from: "app/debug/design-system/components/CodeBlock.js"
      to: "navigator.clipboard"
      via: "API call"
      pattern: "navigator\\.clipboard\\.writeText"
---

<objective>
Create documentation infrastructure components for the design system showcase.

Purpose: Enable code examples with copy-to-clipboard, prop tables, and accessibility documentation blocks that can be reused across all component showcases.
Output: Four reusable documentation components (CodeBlock, PropTable, AccessibilitySection, ComponentDemo)
</objective>

<execution_context>
@/Users/federicomanfredi/.claude/get-shit-done/workflows/execute-plan.md
@/Users/federicomanfredi/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/18-documentation-polish/18-RESEARCH.md

# Existing design system page for styling reference
@app/debug/design-system/page.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install react-syntax-highlighter and create CodeBlock component</name>
  <files>
    package.json
    app/debug/design-system/components/CodeBlock.js
  </files>
  <action>
1. Add react-syntax-highlighter to dependencies (DO NOT run npm install - just update package.json):
   - "react-syntax-highlighter": "^15.6.1"

2. Create CodeBlock.js component with:
   - 'use client' directive (required for useState)
   - Import Prism as SyntaxHighlighter from 'react-syntax-highlighter'
   - Import vscDarkPlus from 'react-syntax-highlighter/dist/esm/styles/prism'
   - Props: code (string), language (default 'jsx'), showLineNumbers (default true)
   - Copy button in top-right corner using navigator.clipboard.writeText
   - Visual feedback: "Copied!" for 2 seconds after click
   - Style to match Ember Noir: rounded-xl, bg-slate-900/80, border border-white/[0.06]
   - Copy button styling: ghost button, absolute positioned, uses existing Button component with variant="ghost" size="sm"
   - Use aria-label for accessibility: "Copy to clipboard" / "Copied to clipboard"
  </action>
  <verify>
    - File exists at app/debug/design-system/components/CodeBlock.js
    - package.json includes react-syntax-highlighter dependency
    - Component exports default function CodeBlock
    - Contains navigator.clipboard.writeText call
    - Uses SyntaxHighlighter with vscDarkPlus theme
  </verify>
  <done>
    - CodeBlock component renders syntax-highlighted code with copy button
    - Copy button shows "Copied!" feedback for 2 seconds
    - Styling matches Ember Noir design system
  </done>
</task>

<task type="auto">
  <name>Task 2: Create PropTable component</name>
  <files>
    app/debug/design-system/components/PropTable.js
  </files>
  <action>
Create PropTable.js component with:
- 'use client' directive (stateless but uses client components)
- Props: props (array of { name, type, default, description, required })
- Table structure with columns: Prop, Type, Default, Description
- Styling to match Ember Noir:
  - Table: w-full text-sm
  - Header row: border-b border-white/[0.06], text-left py-3
  - Header text: Text variant="label" size="xs"
  - Body rows: border-b border-white/[0.03]
  - Prop name: font-mono text-ember-400
  - Type: font-mono text-ocean-400
  - Default: font-mono text-slate-400, show '-' if undefined
  - Description: text-slate-300
  - Required indicator: asterisk (*) next to prop name if required
- Import Text component from '@/app/components/ui/Text' for consistent typography
  </action>
  <verify>
    - File exists at app/debug/design-system/components/PropTable.js
    - Component exports default function PropTable
    - Renders table with Prop, Type, Default, Description columns
    - Uses Text component and Ember Noir color tokens
  </verify>
  <done>
    - PropTable component renders a styled table with prop documentation
    - Required props marked with asterisk
    - Styling matches Ember Noir design system
  </done>
</task>

<task type="auto">
  <name>Task 3: Create AccessibilitySection and ComponentDemo components</name>
  <files>
    app/debug/design-system/components/AccessibilitySection.js
    app/debug/design-system/components/ComponentDemo.js
  </files>
  <action>
1. Create AccessibilitySection.js component:
   - 'use client' directive
   - Props: keyboard (array of { key, action }), aria (array of { attr, description }), screenReader (string)
   - Structure:
     - Heading level={4} variant="ocean" with "Accessibility" title
     - Three sections: Keyboard Navigation, ARIA Attributes, Screen Reader
     - Keyboard section: table with Badge for keys, text for actions
     - ARIA section: list of attributes with descriptions
     - Screen Reader section: Text paragraph
   - Import from existing components: Card, CardContent, Heading, Text, Badge
   - Only render sections if data provided (conditional rendering)

2. Create ComponentDemo.js component:
   - 'use client' directive
   - Props: code (string), children (rendered preview)
   - Layout: grid grid-cols-1 lg:grid-cols-2 gap-4
   - Left side (order-2 lg:order-1): CodeBlock with the code
   - Right side (order-1 lg:order-2): Preview container
   - Preview container styling: p-6 bg-slate-900/50 rounded-2xl border border-white/[0.06]
   - Import CodeBlock from './CodeBlock'
  </action>
  <verify>
    - Files exist at the specified paths
    - AccessibilitySection renders keyboard, aria, and screenReader sections
    - ComponentDemo renders side-by-side code and preview
    - Both use existing UI components (Card, Heading, Text, Badge)
  </verify>
  <done>
    - AccessibilitySection renders accessibility documentation with keyboard, ARIA, and screen reader info
    - ComponentDemo renders code on left, preview on right in responsive grid
    - Both components styled consistently with Ember Noir
  </done>
</task>

</tasks>

<verification>
1. All four component files exist in app/debug/design-system/components/
2. package.json includes react-syntax-highlighter dependency
3. CodeBlock uses SyntaxHighlighter and navigator.clipboard
4. PropTable renders formatted table
5. AccessibilitySection renders three documentation sections
6. ComponentDemo renders side-by-side layout with CodeBlock
</verification>

<success_criteria>
- [ ] react-syntax-highlighter added to package.json
- [ ] CodeBlock.js exports working component with copy button
- [ ] PropTable.js exports working component with styled table
- [ ] AccessibilitySection.js exports working component with keyboard/aria/screenReader sections
- [ ] ComponentDemo.js exports working component with side-by-side layout
- [ ] All components use Ember Noir styling (colors, borders, spacing)
</success_criteria>

<output>
After completion, create `.planning/phases/18-documentation-polish/18-01-SUMMARY.md`
</output>
