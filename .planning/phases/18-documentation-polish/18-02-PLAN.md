---
phase: 18-documentation-polish
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - app/debug/design-system/data/component-docs.js
autonomous: true

must_haves:
  truths:
    - "All components have documented props with types and defaults"
    - "Interactive components have keyboard navigation documented"
    - "Interactive components have ARIA attributes documented"
    - "Interactive components have screen reader behavior documented"
  artifacts:
    - path: "app/debug/design-system/data/component-docs.js"
      provides: "Centralized component metadata"
      exports: ["componentDocs"]
  key_links:
    - from: "app/debug/design-system/data/component-docs.js"
      to: "component files"
      via: "documented props matching actual component APIs"
      pattern: "props.*variant|size|disabled"
---

<objective>
Create centralized component metadata for documentation.

Purpose: Single source of truth for component props, keyboard navigation, ARIA attributes, and screen reader behavior. Used by PropTable and AccessibilitySection components.
Output: component-docs.js file with metadata for all design system components
</objective>

<execution_context>
@/Users/federicomanfredi/.claude/get-shit-done/workflows/execute-plan.md
@/Users/federicomanfredi/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/18-documentation-polish/18-RESEARCH.md

# Reference component files for accurate prop documentation
@app/components/ui/Button.js
@app/components/ui/Card.js
@app/components/ui/Checkbox.js
@app/components/ui/Select.js
@app/components/ui/Input.js
@app/components/ui/Badge.js
@app/components/ui/Modal.js
@app/components/ui/Toast.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create component metadata for Form Controls</name>
  <files>
    app/debug/design-system/data/component-docs.js
  </files>
  <action>
Create component-docs.js with metadata for Form Controls category:

```javascript
export const componentDocs = {
  // Button
  Button: {
    name: 'Button',
    description: 'Primary action button with gradient and multiple variants',
    category: 'Form Controls',
    props: [
      { name: 'variant', type: "'ember'|'subtle'|'ghost'|'success'|'danger'|'ocean'|'outline'|'warning'", default: "'ember'", description: 'Visual style variant' },
      { name: 'size', type: "'sm'|'md'|'lg'", default: "'md'", description: 'Button size (44px, 48px, 56px min height)' },
      { name: 'disabled', type: 'boolean', default: 'false', description: 'Disabled state (70% opacity)' },
      { name: 'loading', type: 'boolean', default: 'false', description: 'Shows spinner overlay, disables interaction' },
      { name: 'icon', type: 'string|ReactNode', default: 'undefined', description: 'Icon to display' },
      { name: 'iconPosition', type: "'left'|'right'", default: "'left'", description: 'Icon position relative to text' },
      { name: 'iconOnly', type: 'boolean', default: 'false', description: 'Icon-only mode (hides children)' },
      { name: 'className', type: 'string', default: "''", description: 'Additional CSS classes' },
    ],
    keyboard: [
      { key: 'Enter', action: 'Activates button' },
      { key: 'Space', action: 'Activates button' },
      { key: 'Tab', action: 'Moves focus to/from button' },
    ],
    aria: [
      { attr: 'role="button"', description: 'Implicit from <button> element' },
      { attr: 'aria-disabled', description: 'Set when disabled=true' },
      { attr: 'aria-label', description: 'Required for iconOnly buttons' },
    ],
    screenReader: 'Announces as "Button, [label]". When disabled, adds "dimmed". When loading, spinner is hidden from screen readers.',
    codeExample: `<Button variant="ember" size="md" icon="ðŸ”¥">
  Start Stove
</Button>`,
  },

  // Checkbox
  Checkbox: {
    name: 'Checkbox',
    description: 'Accessible checkbox with Radix UI primitives',
    category: 'Form Controls',
    props: [
      { name: 'checked', type: 'boolean', default: 'false', description: 'Checked state' },
      { name: 'onChange', type: '(e) => void', required: true, description: 'Change handler (receives synthetic event with e.target.checked)' },
      { name: 'label', type: 'string', default: 'undefined', description: 'Visible label text' },
      { name: 'indeterminate', type: 'boolean', default: 'false', description: 'Indeterminate/mixed state' },
      { name: 'disabled', type: 'boolean', default: 'false', description: 'Disabled state' },
      { name: 'size', type: "'sm'|'md'|'lg'", default: "'md'", description: 'Checkbox size' },
      { name: 'variant', type: "'primary'|'ocean'|'sage'|'ember'|'flame'", default: "'ocean'", description: 'Color variant when checked' },
    ],
    keyboard: [
      { key: 'Space', action: 'Toggles checkbox state' },
      { key: 'Tab', action: 'Moves focus to/from checkbox' },
    ],
    aria: [
      { attr: 'role="checkbox"', description: 'From Radix Checkbox primitive' },
      { attr: 'aria-checked', description: '"true", "false", or "mixed" for indeterminate' },
      { attr: 'aria-labelledby', description: 'References label element' },
    ],
    screenReader: 'Announces as "Checkbox, [label], checked/unchecked". Indeterminate announces as "mixed".',
    codeExample: `<Checkbox
  checked={isChecked}
  onChange={(e) => setIsChecked(e.target.checked)}
  label="Accept terms"
/>`,
  },

  // Switch (Toggle)
  Switch: {
    name: 'Switch',
    description: 'Toggle switch for binary settings',
    category: 'Form Controls',
    props: [
      { name: 'checked', type: 'boolean', required: true, description: 'On/off state' },
      { name: 'onChange', type: '(checked) => void', required: true, description: 'Change handler (receives boolean)' },
      { name: 'label', type: 'string', required: true, description: 'Accessible label (required)' },
      { name: 'disabled', type: 'boolean', default: 'false', description: 'Disabled state' },
      { name: 'size', type: "'sm'|'md'|'lg'", default: "'md'", description: 'Switch size' },
      { name: 'variant', type: "'ember'|'ocean'|'sage'", default: "'ember'", description: 'Color variant when on' },
    ],
    keyboard: [
      { key: 'Space', action: 'Toggles switch state' },
      { key: 'Enter', action: 'Toggles switch state' },
      { key: 'Tab', action: 'Moves focus to/from switch' },
    ],
    aria: [
      { attr: 'role="switch"', description: 'From Radix Switch primitive' },
      { attr: 'aria-checked', description: 'true/false based on state' },
      { attr: 'aria-label', description: 'Set from label prop' },
    ],
    screenReader: 'Announces as "Switch, [label], on/off". State change announces new state.',
    codeExample: `<Switch
  checked={isEnabled}
  onChange={setIsEnabled}
  label="Enable notifications"
/>`,
  },

  // Input
  Input: {
    name: 'Input',
    description: 'Text input with label, icon, error states, and validation',
    category: 'Form Controls',
    props: [
      { name: 'type', type: "'text'|'password'|'email'|'number'|...", default: "'text'", description: 'Input type' },
      { name: 'label', type: 'string', default: 'undefined', description: 'Label text' },
      { name: 'icon', type: 'string|ReactNode', default: 'undefined', description: 'Leading icon' },
      { name: 'variant', type: "'default'|'ember'|'ocean'", default: "'default'", description: 'Color variant for focus ring' },
      { name: 'error', type: 'string', default: 'undefined', description: 'Error message (shows error state)' },
      { name: 'helperText', type: 'string', default: 'undefined', description: 'Helper text below input' },
      { name: 'validate', type: '(value) => string|null', default: 'undefined', description: 'Real-time validation function' },
      { name: 'disabled', type: 'boolean', default: 'false', description: 'Disabled state' },
      { name: 'clearable', type: 'boolean', default: 'false', description: 'Show clear button when value exists' },
      { name: 'showCount', type: 'boolean', default: 'false', description: 'Show character count' },
    ],
    keyboard: [
      { key: 'Tab', action: 'Moves focus to/from input' },
      { key: 'Escape', action: 'Clears input (if clearable)' },
    ],
    aria: [
      { attr: 'aria-invalid', description: 'Set when error prop provided' },
      { attr: 'aria-describedby', description: 'References error or helper text' },
      { attr: 'aria-labelledby', description: 'References label element' },
    ],
    screenReader: 'Announces as "Edit text, [label]". Error state announces error message.',
    codeExample: `<Input
  label="Email"
  type="email"
  icon="@"
  error={emailError}
  placeholder="Enter email..."
/>`,
  },

  // Select
  Select: {
    name: 'Select',
    description: 'Accessible dropdown select with Radix UI',
    category: 'Form Controls',
    props: [
      { name: 'options', type: 'Array<{value, label, disabled?}>', required: true, description: 'Array of options' },
      { name: 'value', type: 'string|number', required: true, description: 'Selected value' },
      { name: 'onChange', type: '(e) => void', required: true, description: 'Change handler (receives synthetic event)' },
      { name: 'label', type: 'string', default: 'undefined', description: 'Label text' },
      { name: 'icon', type: 'string|ReactNode', default: 'undefined', description: 'Leading icon' },
      { name: 'variant', type: "'default'|'ember'|'ocean'", default: "'default'", description: 'Color variant' },
      { name: 'placeholder', type: 'string', default: "'Select...'", description: 'Placeholder when no value' },
      { name: 'disabled', type: 'boolean', default: 'false', description: 'Disabled state' },
    ],
    keyboard: [
      { key: 'Enter', action: 'Opens dropdown / Selects focused option' },
      { key: 'Space', action: 'Opens dropdown / Selects focused option' },
      { key: 'ArrowDown', action: 'Opens dropdown / Moves focus down' },
      { key: 'ArrowUp', action: 'Moves focus up' },
      { key: 'Escape', action: 'Closes dropdown' },
      { key: 'Tab', action: 'Moves focus, closes if open' },
    ],
    aria: [
      { attr: 'role="combobox"', description: 'From Radix Select primitive' },
      { attr: 'aria-expanded', description: 'true when dropdown open' },
      { attr: 'aria-haspopup="listbox"', description: 'Indicates dropdown presence' },
      { attr: 'aria-activedescendant', description: 'References focused option' },
    ],
    screenReader: 'Announces as "Combobox, [label], collapsed/expanded, [selected value]".',
    codeExample: `<Select
  label="Schedule"
  options={[
    { value: 'home', label: 'Home' },
    { value: 'away', label: 'Away' },
  ]}
  value={schedule}
  onChange={(e) => setSchedule(e.target.value)}
/>`,
  },

  // Slider
  Slider: {
    name: 'Slider',
    description: 'Range slider for numeric values',
    category: 'Form Controls',
    props: [
      { name: 'value', type: 'number', required: true, description: 'Current value' },
      { name: 'onChange', type: '(value) => void', required: true, description: 'Change handler (receives number)' },
      { name: 'min', type: 'number', default: '0', description: 'Minimum value' },
      { name: 'max', type: 'number', default: '100', description: 'Maximum value' },
      { name: 'step', type: 'number', default: '1', description: 'Step increment' },
      { name: 'disabled', type: 'boolean', default: 'false', description: 'Disabled state' },
      { name: 'aria-label', type: 'string', required: true, description: 'Accessible name (required)' },
    ],
    keyboard: [
      { key: 'ArrowRight', action: 'Increases value by step' },
      { key: 'ArrowUp', action: 'Increases value by step' },
      { key: 'ArrowLeft', action: 'Decreases value by step' },
      { key: 'ArrowDown', action: 'Decreases value by step' },
      { key: 'Home', action: 'Sets value to min' },
      { key: 'End', action: 'Sets value to max' },
      { key: 'PageUp', action: 'Increases by 10%' },
      { key: 'PageDown', action: 'Decreases by 10%' },
    ],
    aria: [
      { attr: 'role="slider"', description: 'From Radix Slider primitive' },
      { attr: 'aria-valuemin', description: 'Minimum value' },
      { attr: 'aria-valuemax', description: 'Maximum value' },
      { attr: 'aria-valuenow', description: 'Current value' },
      { attr: 'aria-label', description: 'Accessible name' },
    ],
    screenReader: 'Announces as "Slider, [label], [value] of [max]". Value changes announce new value.',
    codeExample: `<Slider
  value={brightness}
  onChange={setBrightness}
  min={0}
  max={100}
  aria-label="Brightness"
/>`,
  },

  // RadioGroup - will be added in next task
};
```

Note: Document props accurately by reading actual component implementations. The above is a starting structure - verify against actual component files.
  </action>
  <verify>
    - File exists at app/debug/design-system/data/component-docs.js
    - Exports componentDocs object
    - Contains Button, Checkbox, Switch, Input, Select, Slider metadata
    - Each component has props, keyboard, aria, screenReader, codeExample
  </verify>
  <done>
    - component-docs.js contains complete metadata for Form Controls category
    - All props match actual component implementations
    - Keyboard navigation documented for all interactive components
    - ARIA attributes and screen reader behavior documented
  </done>
</task>

<task type="auto">
  <name>Task 2: Add component metadata for Feedback and Layout categories</name>
  <files>
    app/debug/design-system/data/component-docs.js
  </files>
  <action>
Add metadata to component-docs.js for Feedback and Layout components:

**Feedback components to document:**
- Modal: props (isOpen, onClose, maxWidth, etc.), keyboard (Escape closes), aria (role="dialog", aria-modal)
- Toast: props (message, variant, duration, onDismiss), aria (role="status", aria-live="polite")
- Banner: props (variant, title, description, dismissible), aria (role="alert" or "status")
- Tooltip: props (content, side, open), keyboard (Tab to trigger, Escape to close), aria (role="tooltip")
- Spinner: props (size, variant, label), aria (role="progressbar", aria-busy)
- Progress: props (value, variant, size, label), aria (role="progressbar", aria-valuenow)
- EmptyState: props (icon, title, description, action), no special a11y (presentational)

**Layout components to document:**
- Card: props (variant, hover, glow, padding), namespace components (Card.Header, Card.Title, etc.)
- PageLayout: props (header, footer, maxWidth, padding)
- Section: props (title, subtitle, description, spacing, level, action)
- Grid: props (cols, gap, as)

**For each component include:**
- name, description, category
- props array with name, type, default, description, required
- keyboard array (if interactive)
- aria array (if has ARIA)
- screenReader string (if announces)
- codeExample string
  </action>
  <verify>
    - component-docs.js includes Modal, Toast, Banner, Tooltip, Spinner, Progress, EmptyState
    - component-docs.js includes Card, PageLayout, Section, Grid
    - Each has appropriate keyboard/aria based on interactivity
    - Code examples are accurate and runnable
  </verify>
  <done>
    - Feedback and Layout components fully documented
    - Modal, Toast, Banner, Tooltip have accessibility info
    - Layout components have props documented
  </done>
</task>

<task type="auto">
  <name>Task 3: Add component metadata for Smart Home category</name>
  <files>
    app/debug/design-system/data/component-docs.js
  </files>
  <action>
Add metadata to component-docs.js for Smart Home components:

**Smart Home components to document:**
- Badge: props (variant, size, pulse, icon, children), aria (presentational by default)
- ConnectionStatus: props (status, size, label, showDot), aria (role="status", aria-live="polite")
- HealthIndicator: props (status, size, label, showIcon, pulse), aria (role="status", aria-live="polite")
- SmartHomeCard: props (icon, title, size, colorTheme, isLoading, error, disabled), namespace (Header, Status, Controls)
- StatusCard: extends SmartHomeCard with status, statusVariant, connectionStatus
- DeviceCard: legacy backwards-compatible card with many props
- ControlButton: props (type, variant, size, step, onChange, haptic), keyboard (Enter/Space activates), aria (aria-label required)

**For ControlButton, important keyboard note:**
- Uses mouse events for long-press functionality
- Enter/Space triggers single increment/decrement
- Focus ring follows ember glow pattern

**Include category: 'Smart Home' for all these components**
  </action>
  <verify>
    - component-docs.js includes Badge, ConnectionStatus, HealthIndicator
    - component-docs.js includes SmartHomeCard, StatusCard, DeviceCard, ControlButton
    - ControlButton has keyboard and aria documentation
    - ConnectionStatus and HealthIndicator have role="status" documented
  </verify>
  <done>
    - Smart Home components fully documented in component-docs.js
    - All 7 components have complete props, keyboard (where applicable), aria, screenReader, codeExample
    - Category consistently set to 'Smart Home'
  </done>
</task>

</tasks>

<verification>
1. component-docs.js exists at app/debug/design-system/data/
2. Exports componentDocs object
3. Contains at least 20 components across 4 categories:
   - Form Controls: Button, Checkbox, Switch, Input, Select, Slider
   - Feedback: Modal, Toast, Banner, Tooltip, Spinner, Progress, EmptyState
   - Layout: Card, PageLayout, Section, Grid
   - Smart Home: Badge, ConnectionStatus, HealthIndicator, SmartHomeCard, StatusCard, DeviceCard, ControlButton
4. Each component has: name, description, category, props[], codeExample
5. Interactive components have: keyboard[], aria[], screenReader
</verification>

<success_criteria>
- [ ] component-docs.js exports componentDocs with 20+ components
- [ ] Form Controls category: 6 components documented
- [ ] Feedback category: 7 components documented
- [ ] Layout category: 4 components documented
- [ ] Smart Home category: 7 components documented
- [ ] All props match actual component implementations
- [ ] Keyboard navigation accurate for interactive components
- [ ] ARIA attributes documented where applicable
</success_criteria>

<output>
After completion, create `.planning/phases/18-documentation-polish/18-02-SUMMARY.md`
</output>
