---
phase: 20-thermostatcard-compliance
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - app/components/devices/thermostat/ThermostatCard.js
autonomous: true

must_haves:
  truths:
    - "User sees temperature display using consistent Text component typography"
    - "User sees temperature labels using Text variant='label' pattern"
    - "Temperature values display with proper semantic Text variants"
    - "Temperature display section uses data-component attribute for debugging"
  artifacts:
    - path: "app/components/devices/thermostat/ThermostatCard.js"
      provides: "Standardized temperature display with Text components"
      contains: "data-component=\"temperature-display\""
  key_links:
    - from: "app/components/devices/thermostat/ThermostatCard.js"
      to: "app/components/ui/Text.js"
      via: "import and usage"
      pattern: "variant=\"label\""
---

<objective>
Verify and standardize temperature display patterns in ThermostatCard using design system Text component.

Purpose: Complete THERM-04 requirement - standardized temperature display with consistent typography patterns
Output: Temperature display section verified as design system compliant with optional data attribute for debugging
</objective>

<execution_context>
@/Users/federicomanfredi/.claude/get-shit-done/workflows/execute-plan.md
@/Users/federicomanfredi/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/20-thermostatcard-compliance/20-RESEARCH.md
@app/components/devices/thermostat/ThermostatCard.js
@app/components/ui/Text.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify temperature display uses Text component correctly</name>
  <files>app/components/devices/thermostat/ThermostatCard.js</files>
  <action>
Audit the temperature display section (lines 454-486) to verify it uses Text component correctly.

Expected patterns that should already exist:
1. Labels use `<Text variant="label">` with proper size/weight
2. Temperature values use `<Text>` with weight="black" for emphasis
3. Degree symbols use `<Text as="span">` for inline display
4. Ocean variant used for target temperature: `<Text variant="ocean">`

Current implementation to verify (should already be compliant):
```jsx
<Text variant="label" size="xs" weight="bold" className="mb-2 font-display">
  Attuale
</Text>
<Text weight="black" className="text-4xl sm:text-5xl font-display ...">
  {selectedRoom.temperature}
</Text>
<Text variant="ocean" size="xs" weight="bold" uppercase tracking className="mb-2 font-display">
  Target
</Text>
<Text variant="ocean" weight="black" className="text-4xl sm:text-5xl ...">
  {selectedRoom.setpoint}
</Text>
```

If patterns are already correct, document verification.
If any raw text spans without Text component exist, migrate them.
  </action>
  <verify>
1. `grep -n "variant=\"label\"" app/components/devices/thermostat/ThermostatCard.js` - should find label patterns
2. `grep -n "<Text.*weight=\"black\"" app/components/devices/thermostat/ThermostatCard.js` - should find temperature displays
3. No raw `<span>` elements with temperature-related styling outside Text components
  </verify>
  <done>
Temperature display section verified using Text component with correct patterns: label variant for labels, weight="black" for values, ocean variant for target, as="span" for inline elements.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add data-component attribute for debugging</name>
  <files>app/components/devices/thermostat/ThermostatCard.js</files>
  <action>
Add data-component attribute to the main temperature display container for debugging and testing purposes.

Find the temperature display grid container (around line 454):
```jsx
<div className="grid grid-cols-2 gap-3 sm:gap-4">
```

Update to include data attribute:
```jsx
<div
  className="grid grid-cols-2 gap-3 sm:gap-4"
  data-component="temperature-display"
>
```

This follows the pattern established in StoveCard for identifying major UI sections.
  </action>
  <verify>
1. `grep -n "data-component=\"temperature-display\"" app/components/devices/thermostat/ThermostatCard.js` - should find one match
2. Attribute is on the grid container for temperature display
  </verify>
  <done>
Temperature display grid has data-component="temperature-display" attribute for debugging and testing.
  </done>
</task>

<task type="auto">
  <name>Task 3: Document temperature display compliance in summary</name>
  <files>app/components/devices/thermostat/ThermostatCard.js</files>
  <action>
Create final verification of temperature display patterns:

1. Count Text component usages in temperature section
2. Verify all typography uses Text component (no raw spans with font styling)
3. Document the compliant patterns found

Expected findings:
- Text variant="label" for section headers (Attuale, Target)
- Text weight="black" for large temperature numbers
- Text variant="ocean" for target temperature styling
- Text as="span" for degree symbols

The research confirmed this section is already compliant. This task validates and documents that finding.
  </action>
  <verify>
1. Manual review of lines 454-518 confirms Text component usage
2. `grep -c "<Text" app/components/devices/thermostat/ThermostatCard.js` - count Text usages (should be significant)
3. No raw `<p>` or `<h*>` elements in temperature display section
  </verify>
  <done>
Temperature display section documented as design system compliant. Uses Text component consistently with proper variants, weights, and semantic markup.
  </done>
</task>

</tasks>

<verification>
1. Temperature display uses Text component exclusively
2. Label variant used for section headers
3. Black weight used for temperature values
4. Ocean variant used for target temperature
5. data-component attribute added for debugging
</verification>

<success_criteria>
- Temperature display section uses Text component for all typography
- No raw text styling (spans with manual Tailwind classes) in temperature section
- data-component="temperature-display" attribute present
- Pattern documentation ready for design system reference
</success_criteria>

<output>
After completion, create `.planning/phases/20-thermostatcard-compliance/20-02-SUMMARY.md`
</output>
