---
phase: 35-micro-interactions
plan: 02
type: execute
wave: 2
depends_on: ["35-01"]
files_modified:
  - app/components/ui/Button.js
  - app/components/ui/Card.js
  - app/components/ui/Switch.js
autonomous: true

must_haves:
  truths:
    - "Buttons feel responsive with subtle spring bounce on press"
    - "Cards have smooth hover transitions"
    - "Switch toggle snaps with satisfying spring physics"
  artifacts:
    - path: "app/components/ui/Button.js"
      provides: "Button with animation tokens"
      contains: "var(--duration-"
    - path: "app/components/ui/Card.js"
      provides: "Card with animation tokens"
      contains: "var(--duration-"
    - path: "app/components/ui/Switch.js"
      provides: "Switch with spring physics"
      contains: "ease-spring"
  key_links:
    - from: "app/components/ui/Button.js"
      to: "app/globals.css"
      via: "CSS custom properties"
      pattern: "--duration-smooth|--ease-spring"
---

<objective>
Update Button, Card, and Switch components to use the new animation token system, replacing hardcoded duration values with semantic tokens and adding spring physics to interactive elements.

Purpose: Standardize animation timing for core interactive components
Output: Updated Button, Card, Switch with animation tokens and spring physics
</objective>

<execution_context>
@/Users/federicomanfredi/.claude/get-shit-done/workflows/execute-plan.md
@/Users/federicomanfredi/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/35-micro-interactions/35-01-SUMMARY.md
@.planning/phases/35-micro-interactions/35-CONTEXT.md
@app/components/ui/Button.js
@app/components/ui/Card.js
@app/components/ui/Switch.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update Button with animation tokens and spring physics</name>
  <files>app/components/ui/Button.js</files>
  <action>
Update the buttonVariants CVA definition to use animation tokens:

Find the base class array containing 'transition-all duration-200' and replace with:
```javascript
'transition-all',
'duration-[var(--duration-smooth)]',
'ease-[var(--ease-move)]',
// Spring physics on active state
'active:scale-[0.97]',
'active:duration-[var(--duration-fast)]',
'active:ease-[var(--ease-spring-subtle)]',
```

For the 'ember' variant (if it has hover:-translate-y classes), add spring easing:
```javascript
'hover:ease-[var(--ease-spring-subtle)]',
```

Keep all existing functionality - only update timing values.

Pattern to match and update:
- 'duration-200' -> 'duration-[var(--duration-smooth)]'
- Add 'ease-[var(--ease-move)]' for base transitions
- Add active state spring physics if not present
  </action>
  <verify>
Grep Button.js for "duration-smooth" - should exist.
Grep Button.js for "ease-spring-subtle" - should exist.
Run `npm test -- --testPathPattern=Button.test` - all tests should pass.
  </verify>
  <done>
Button uses --duration-smooth for base transitions, --duration-fast with --ease-spring-subtle for active:scale effect
  </done>
</task>

<task type="auto">
  <name>Task 2: Update Card and Switch with animation tokens</name>
  <files>
app/components/ui/Card.js
app/components/ui/Switch.js
  </files>
  <action>
**Card.js:**
Find 'duration-300' in cardVariants and replace with:
```javascript
'duration-[var(--duration-smooth)]',
'ease-[var(--ease-move)]',
```

If Card has hover variant with translate-y, add spring easing to hover state.

**Switch.js:**
Find 'duration-250' occurrences (two places: switch root and thumb) and replace:
- Root: 'duration-[var(--duration-smooth)]'
- Thumb: 'duration-[var(--duration-smooth)]' + 'ease-[var(--ease-spring)]' (use existing --ease-spring for more bounce on toggle)

The thumb sliding across should have spring physics for natural feel.

Keep all existing functionality - only update timing values.
  </action>
  <verify>
Grep Card.js for "duration-smooth" - should exist.
Grep Switch.js for "ease-spring" - should exist.
Run `npm test -- --testPathPattern="Card|Switch"` - tests should pass.
  </verify>
  <done>
Card uses --duration-smooth, Switch uses --duration-smooth with --ease-spring on thumb
  </done>
</task>

</tasks>

<verification>
1. Button has active:scale with spring physics
2. Switch thumb has spring easing for toggle
3. All updated components still pass existing tests
4. Dev server shows no console warnings about invalid CSS
</verification>

<success_criteria>
- 3 components updated with animation tokens
- No hardcoded duration-200, duration-250, duration-300 in updated files (using tokens instead)
- All existing tests pass
- Components render correctly in browser
</success_criteria>

<output>
After completion, create `.planning/phases/35-micro-interactions/35-02-SUMMARY.md`
</output>
