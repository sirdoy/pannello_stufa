---
phase: 37-typescript-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - tsconfig.json
  - eslint.config.mjs
  - jsconfig.json
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Developer can create .ts files without configuration errors"
    - "ESLint reports TypeScript-specific warnings/errors"
    - "Path aliases work in both .js and .ts files"
  artifacts:
    - path: "tsconfig.json"
      provides: "TypeScript compiler configuration"
      contains: "allowJs"
    - path: "eslint.config.mjs"
      provides: "ESLint with TypeScript rules"
      contains: "typescript"
  key_links:
    - from: "eslint.config.mjs"
      to: "tsconfig.json"
      via: "TypeScript parser uses tsconfig"
      pattern: "eslint-config-next"
---

<objective>
Verify TypeScript configuration and add ESLint TypeScript support.

Purpose: Ensure the development environment is ready for TypeScript migration with proper tooling.
Output: Working TypeScript + ESLint configuration, jsconfig.json removed to prevent conflicts.
</objective>

<execution_context>
@/Users/federicomanfredi/.claude/get-shit-done/workflows/execute-plan.md
@/Users/federicomanfredi/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/37-typescript-foundation/37-RESEARCH.md
@tsconfig.json
@eslint.config.mjs
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify and enhance tsconfig.json</name>
  <files>tsconfig.json</files>
  <action>
Verify tsconfig.json has all required settings for incremental migration:

1. Confirm these settings exist (already present, verify unchanged):
   - `allowJs: true` (SETUP-02)
   - `paths: { "@/*": ["./*"] }` (SETUP-03)
   - `strict: false` (enables incremental migration)
   - `incremental: true` (faster rebuilds)
   - `moduleResolution: "bundler"` (Next.js 16 recommended)

2. Remove `"types": []` line - this can prevent automatic type acquisition
   - Replace with no types field (let TypeScript auto-detect)
   - OR add specific needed types like `["jest"]`

3. Verify `include` array covers all file patterns:
   - `**/*.ts`, `**/*.tsx`, `**/*.js`, `**/*.jsx`

No major changes needed - configuration is already good. Only remove `"types": []` if present.
  </action>
  <verify>
Run `npx tsc --noEmit` from project root - should complete without errors.
Create a test file `test-ts-config.ts` with `const x: number = 1; export {};`, verify no errors, then delete it.
  </verify>
  <done>tsconfig.json verified with allowJs and path aliases working, types field removed if it was empty array</done>
</task>

<task type="auto">
  <name>Task 2: Remove jsconfig.json to prevent conflicts</name>
  <files>jsconfig.json</files>
  <action>
Delete jsconfig.json file.

Rationale from research: "jsconfig.json with tsconfig.json present is deprecated - use only tsconfig.json; jsconfig.json is for JS-only projects."

The tsconfig.json with `allowJs: true` serves the same purpose as jsconfig.json. Having both can cause path alias mismatches and IDE confusion.

Simply delete the file:
```bash
rm jsconfig.json
```
  </action>
  <verify>
Verify `jsconfig.json` no longer exists.
Verify IDE still recognizes `@/` path aliases (check any .js file import).
Run `npm run dev` briefly to confirm dev server starts without issues.
  </verify>
  <done>jsconfig.json deleted, tsconfig.json is the single source of configuration</done>
</task>

<task type="auto">
  <name>Task 3: Add TypeScript rules to ESLint flat config</name>
  <files>eslint.config.mjs</files>
  <action>
Update eslint.config.mjs to include TypeScript-specific rules using eslint-config-next/typescript.

Current config structure:
```javascript
import nextConfig from "eslint-config-next";
import tailwindcss from "eslint-plugin-tailwindcss";

const eslintConfig = [
  ...nextConfig,
  // tailwind config block...
];
```

Update to:
```javascript
import nextConfig from "eslint-config-next";
import nextTypescript from "eslint-config-next/typescript";
import tailwindcss from "eslint-plugin-tailwindcss";

const eslintConfig = [
  // Next.js base config
  ...nextConfig,

  // TypeScript rules from Next.js
  ...nextTypescript,

  // Tailwind CSS design token enforcement (existing block unchanged)
  {
    name: "tailwindcss/design-tokens",
    // ... existing tailwind config
  },
];

export default eslintConfig;
```

Key points:
- Import `eslint-config-next/typescript` (bundled with Next.js, no install needed)
- Spread `...nextTypescript` after `...nextConfig`
- Keep existing Tailwind config unchanged
- Do NOT manually configure typescript-eslint parser (Next.js config handles it)
  </action>
  <verify>
Run `npx eslint app/sw.ts` - should complete without parser errors.
Run `npx eslint --print-config app/sw.ts | grep -i typescript` - should show TypeScript rules active.
  </verify>
  <done>ESLint configured with TypeScript support via eslint-config-next/typescript</done>
</task>

</tasks>

<verification>
After all tasks complete:

1. TypeScript compilation:
   ```bash
   npx tsc --noEmit
   ```
   Should complete with exit code 0.

2. ESLint on TypeScript file:
   ```bash
   npx eslint app/sw.ts --quiet
   ```
   Should complete without errors (warnings OK).

3. Path aliases work:
   Create temp file `temp-test.ts` with:
   ```typescript
   import { success } from '@/lib/core/apiResponse';
   export { success };
   ```
   Run `npx tsc --noEmit temp-test.ts` - should succeed. Delete temp file.

4. jsconfig.json removed:
   ```bash
   [ ! -f jsconfig.json ] && echo "OK: jsconfig.json removed"
   ```
</verification>

<success_criteria>
1. `tsc --noEmit` passes on existing TypeScript files
2. ESLint processes .ts files without parser errors
3. Path aliases (`@/`) resolve correctly in both .js and .ts files
4. jsconfig.json is deleted (no configuration conflict)
5. SETUP-01, SETUP-02, SETUP-03, SETUP-04 requirements satisfied
</success_criteria>

<output>
After completion, create `.planning/phases/37-typescript-foundation/37-01-SUMMARY.md`
</output>
