---
phase: 39-ui-components-migration
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - app/components/ui/Icon.js
  - app/components/ui/Container.js
  - app/components/ui/Grid.js
  - app/components/ui/Section.js
  - app/components/ui/Heading.js
  - app/components/ui/Text.js
  - app/components/ui/Label.js
  - app/components/ui/Divider.js
  - app/components/ui/Kbd.js
  - app/components/ui/Spinner.js
  - app/components/ui/Badge.js
  - app/components/ui/EmptyState.js
  - app/components/ui/Panel.js
  - app/components/ui/InfoBox.js
  - app/components/ui/Footer.js
  - app/components/ui/ProgressBar.js
  - app/components/ui/ModeIndicator.js
  - app/components/ui/OfflineBanner.js
  - app/components/ui/LoadingOverlay.js
  - app/components/ui/CardAccentBar.js
  - app/components/ui/ErrorAlert.js
  - app/components/ui/StatusBadge.js
  - app/components/ui/ActionButton.js
autonomous: true

must_haves:
  truths:
    - "All 23 foundation UI components have .tsx extension"
    - "Every component exports a Props interface or type"
    - "tsc --noEmit passes with zero errors on migrated files"
  artifacts:
    - path: "app/components/ui/Icon.tsx"
      provides: "Icon component with typed props"
    - path: "app/components/ui/Badge.tsx"
      provides: "Badge component with CVA VariantProps"
    - path: "app/components/ui/Heading.tsx"
      provides: "Heading component with CVA VariantProps"
    - path: "app/components/ui/Text.tsx"
      provides: "Text component with CVA VariantProps"
    - path: "app/components/ui/Spinner.tsx"
      provides: "Spinner component with CVA VariantProps"
  key_links:
    - from: "app/components/ui/Badge.tsx"
      to: "class-variance-authority"
      via: "VariantProps<typeof badgeVariants>"
      pattern: "VariantProps<typeof"
    - from: "app/components/ui/Heading.tsx"
      to: "class-variance-authority"
      via: "VariantProps<typeof headingVariants>"
      pattern: "VariantProps<typeof"
---

<objective>
Migrate 23 foundation/simple design system components from .js/.jsx to .tsx with typed props.

Purpose: These are the simplest, most foundational UI components (typography, layout, feedback, decorative). Migrating them first establishes patterns and has zero cross-dependency risk. They are imported by more complex components, so typing them first enables better type inference downstream.

Output: 23 .tsx files with exported Props interfaces, using CVA VariantProps where applicable and React HTML attribute extensions for spread props.
</objective>

<execution_context>
@/Users/federicomanfredi/.claude/get-shit-done/workflows/execute-plan.md
@/Users/federicomanfredi/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/39-ui-components-migration/39-CONTEXT.md
@.planning/phases/39-ui-components-migration/39-RESEARCH.md
@types/components/common.ts
@app/components/ui/index.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate typography and layout foundation components (12 files)</name>
  <files>
    app/components/ui/Icon.js -> Icon.tsx
    app/components/ui/Container.js -> Container.tsx
    app/components/ui/Grid.js -> Grid.tsx
    app/components/ui/Section.js -> Section.tsx
    app/components/ui/Heading.js -> Heading.tsx
    app/components/ui/Text.js -> Text.tsx
    app/components/ui/Label.js -> Label.tsx
    app/components/ui/Divider.js -> Divider.tsx
    app/components/ui/Kbd.js -> Kbd.tsx
    app/components/ui/Spinner.js -> Spinner.tsx
    app/components/ui/Badge.js -> Badge.tsx
    app/components/ui/EmptyState.js -> EmptyState.tsx
  </files>
  <action>
For each file:
1. `git mv ComponentName.js ComponentName.tsx` to preserve git history
2. Add Props interface extending appropriate HTML attributes (e.g., `React.HTMLAttributes<HTMLDivElement>`)
3. For components using CVA: export Props extending `VariantProps<typeof componentVariants>` (see Badge, Heading, Text, Spinner, Divider, Section patterns)
4. For forwardRef components: add explicit generics `forwardRef<HTMLElement, Props>`
5. Type all function parameters (children as ReactNode, className as string, etc.)
6. Use `import type` for type-only imports
7. Preserve existing component API exactly — no behavioral changes

Patterns per component type:
- **CVA components** (Badge, Heading, Text, Spinner, Divider, Section, Grid): `export interface XxxProps extends React.HTMLAttributes<HTMLElement>, VariantProps<typeof xxxVariants> { ... }`
- **Simple wrappers** (Icon, Container, Kbd, EmptyState): `export interface XxxProps extends React.HTMLAttributes<HTMLElement> { ... }` with component-specific props
- **forwardRef** (Badge, Heading, Text, Divider, Label): `forwardRef<HTMLElement, XxxProps>`

Use mixin types from `@/types/components` (WithChildren, WithDisabled, WithLoading) where they fit naturally. Be pragmatic — don't force them.
  </action>
  <verify>Run `npx tsc --noEmit 2>&1 | grep -c "error TS"` — must be 0 errors. Check all 12 .tsx files exist: `ls app/components/ui/{Icon,Container,Grid,Section,Heading,Text,Label,Divider,Kbd,Spinner,Badge,EmptyState}.tsx`</verify>
  <done>12 foundation components converted to .tsx with exported Props interfaces, zero tsc errors</done>
</task>

<task type="auto">
  <name>Task 2: Migrate decorative and feedback components (11 files)</name>
  <files>
    app/components/ui/Panel.js -> Panel.tsx
    app/components/ui/InfoBox.js -> InfoBox.tsx
    app/components/ui/Footer.js -> Footer.tsx
    app/components/ui/ProgressBar.js -> ProgressBar.tsx
    app/components/ui/ModeIndicator.js -> ModeIndicator.tsx
    app/components/ui/OfflineBanner.js -> OfflineBanner.tsx
    app/components/ui/LoadingOverlay.js -> LoadingOverlay.tsx
    app/components/ui/CardAccentBar.js -> CardAccentBar.tsx
    app/components/ui/ErrorAlert.js -> ErrorAlert.tsx
    app/components/ui/StatusBadge.js -> StatusBadge.tsx
    app/components/ui/ActionButton.js -> ActionButton.tsx
  </files>
  <action>
For each file:
1. `git mv ComponentName.js ComponentName.tsx` to preserve git history
2. Add Props interface extending appropriate HTML attributes
3. For CVA components: use `VariantProps<typeof xxxVariants>` pattern
4. For forwardRef components: add explicit generics
5. Type all function parameters
6. Use `import type` for type-only imports
7. Preserve existing component API exactly

Key considerations:
- **StatusBadge** (237 lines, CVA): Complex variants — extract all variant types via VariantProps
- **CardAccentBar** (170 lines): May have subcomponents (CardAccentCorner) — type both
- **OfflineBanner** (155 lines): May use hooks — type hook return values
- **ActionButton** (140 lines, CVA + forwardRef): Type button HTML attributes + variants
- **ErrorAlert** (116 lines): May have ErrorBadge subcomponent — type both
- **LoadingOverlay** (105 lines, forwardRef): Type overlay-specific props
- **Footer** (105 lines): Simple props
- **ProgressBar** (99 lines): Type progress-specific props (value, max, etc.)
- Smaller components (Panel, InfoBox, ModeIndicator): Simple prop interfaces

Run `npx tsc --noEmit` after completing all 11 to verify zero errors.
  </action>
  <verify>Run `npx tsc --noEmit 2>&1 | grep -c "error TS"` — must be 0 errors. Check all 11 .tsx files exist: `ls app/components/ui/{Panel,InfoBox,Footer,ProgressBar,ModeIndicator,OfflineBanner,LoadingOverlay,CardAccentBar,ErrorAlert,StatusBadge,ActionButton}.tsx`</verify>
  <done>11 decorative/feedback components converted to .tsx with exported Props interfaces, zero tsc errors across entire project</done>
</task>

</tasks>

<verification>
After both tasks:
1. `ls app/components/ui/*.js | wc -l` should show 41 remaining (64 - 23 = 41)
2. `ls app/components/ui/*.tsx | wc -l` should show 23
3. `npx tsc --noEmit 2>&1 | grep -c "error TS"` returns 0
4. `npm test -- --passWithNoTests 2>&1 | tail -5` — existing tests still pass
</verification>

<success_criteria>
- All 23 foundation UI components have .tsx extension
- Every component exports a Props interface or type
- CVA components use VariantProps pattern
- forwardRef components have explicit generic types
- Zero tsc errors
- No .js files remain for these 23 components
</success_criteria>

<output>
After completion, create `.planning/phases/39-ui-components-migration/39-01-SUMMARY.md`
</output>
