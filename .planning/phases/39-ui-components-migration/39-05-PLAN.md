---
phase: 39-ui-components-migration
plan: 05
type: execute
wave: 3
depends_on: ["39-03", "39-04"]
files_modified:
  - app/components/ui/index.js
autonomous: true

must_haves:
  truths:
    - "Barrel export file updated to index.ts"
    - "All exports reference .tsx components (no .js imports)"
    - "All existing named exports preserved"
    - "Type re-exports work for Props interfaces"
    - "tsc --noEmit passes with zero errors"
  artifacts:
    - path: "app/components/ui/index.ts"
      provides: "Barrel export for all 63 design system components"
  key_links:
    - from: "app/components/ui/index.ts"
      to: "all 63 .tsx component files"
      via: "export { default as X } from './X'"
      pattern: "export.*from.*\\./"
---

<objective>
Migrate the design system barrel export file from index.js to index.ts and add type re-exports for Props interfaces.

Purpose: The barrel file is the single entry point for all design system imports. Converting it to .ts ensures all component imports resolve to .tsx files. This must happen AFTER all 63 components are migrated (Plans 01-04) to avoid broken imports.

Output: index.ts barrel file with all component exports and optional Props type re-exports.
</objective>

<execution_context>
@/Users/federicomanfredi/.claude/get-shit-done/workflows/execute-plan.md
@/Users/federicomanfredi/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/39-ui-components-migration/39-CONTEXT.md
@app/components/ui/index.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Convert barrel export to TypeScript and verify design system</name>
  <files>
    app/components/ui/index.js -> index.ts
  </files>
  <action>
1. `git mv app/components/ui/index.js app/components/ui/index.ts`
2. Review all existing exports — preserve every single one exactly
3. TypeScript will automatically resolve `'./Button'` to `Button.tsx` — no path changes needed
4. Add type re-exports for commonly used Props interfaces (the most-imported ones):
   ```typescript
   // Type re-exports for commonly used Props
   export type { ButtonProps } from './Button';
   export type { CardProps } from './Card';
   export type { SmartHomeCardProps } from './SmartHomeCard';
   export type { DeviceCardProps } from './DeviceCard';
   export type { TabsProps, TabsListProps, TabsTriggerProps, TabsContentProps } from './Tabs';
   export type { InputProps } from './Input';
   export type { BadgeProps } from './Badge';
   // Add others as they exist — check each component's actual Props export name
   ```
5. Verify NO export is missing compared to original index.js
6. Run full `npx tsc --noEmit` to verify zero errors across entire project

CRITICAL: This is a dependency for ALL application component plans. Every import like `from '@/app/components/ui'` goes through this file. If any export breaks, downstream files will fail.

Verification checklist:
- Every line from original index.js has a corresponding line in index.ts
- No import paths need changing (TypeScript resolves .tsx automatically)
- All variant exports (badgeVariants, buttonVariants, etc.) still exported
- All named subcomponent exports (TabsList, SheetContent, etc.) still exported
- All default exports still work

Also verify the complete design system migration:
- `find app/components/ui -maxdepth 1 -name "*.js" -o -name "*.jsx"` returns empty
- `find app/components/ui -maxdepth 1 -name "*.tsx" -o -name "*.ts" | wc -l` returns 64
- `npx tsc --noEmit 2>&1 | grep -c "error TS"` returns 0
  </action>
  <verify>
1. `ls app/components/ui/index.ts` exists
2. `ls app/components/ui/*.js app/components/ui/*.jsx 2>/dev/null | wc -l` returns 0
3. `npx tsc --noEmit 2>&1 | grep -c "error TS"` returns 0
4. `npm test -- --passWithNoTests 2>&1 | tail -5` passes
  </verify>
  <done>Design system barrel export converted to index.ts, all 64 files (63 components + barrel) are TypeScript, zero .js files remaining in ui/, zero tsc errors. COMP-01 requirement fully satisfied.</done>
</task>

</tasks>

<verification>
Full design system verification:
1. `find app/components/ui -maxdepth 1 -name "*.js" -o -name "*.jsx" | wc -l` = 0
2. `find app/components/ui -maxdepth 1 \( -name "*.tsx" -o -name "*.ts" \) | wc -l` = 64
3. `npx tsc --noEmit 2>&1 | grep -c "error TS"` = 0
4. All imports from `@/app/components/ui` resolve correctly
5. Requirement COMP-01 fully satisfied
</verification>

<success_criteria>
- index.ts replaces index.js
- All existing exports preserved identically
- Type re-exports added for key Props interfaces
- Zero .js/.jsx files remain in app/components/ui/
- 64 .ts/.tsx files in app/components/ui/
- Zero tsc errors across entire project
</success_criteria>

<output>
After completion, create `.planning/phases/39-ui-components-migration/39-05-SUMMARY.md`
</output>
