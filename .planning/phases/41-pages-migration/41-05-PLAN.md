---
phase: 41-pages-migration
plan: 05
type: execute
wave: 1
depends_on: []
files_modified:
  - app/debug/page.tsx
  - app/debug/stove/page.tsx
  - app/debug/transitions/page.tsx
  - app/debug/weather-test/page.tsx
  - app/debug/logs/page.tsx
  - app/debug/api/page.tsx
  - app/debug/notifications/page.tsx
  - app/debug/notifications/test/page.tsx
  - app/debug/notifications/components/DeliveryChart.tsx
  - app/debug/design-system/page.tsx
autonomous: true

must_haves:
  truths:
    - "All 8 debug page files are TypeScript"
    - "DeliveryChart co-located component has typed props with chart data interface"
    - "Debug design-system page (2834 lines) is .tsx with pragmatic typing"
    - "No .js page files remain in debug/ directory"
  artifacts:
    - path: "app/debug/page.tsx"
      provides: "Debug hub page with typed debug tools state"
      min_lines: 380
    - path: "app/debug/stove/page.tsx"
      provides: "Stove debug page with typed API test state"
      min_lines: 520
    - path: "app/debug/design-system/page.tsx"
      provides: "Design system documentation page"
      min_lines: 2700
    - path: "app/debug/notifications/components/DeliveryChart.tsx"
      provides: "Recharts delivery chart with typed data"
      contains: "interface"
  key_links:
    - from: "app/debug/notifications/page.tsx"
      to: "app/debug/notifications/components/DeliveryChart.tsx"
      via: "imports chart component"
      pattern: "import.*DeliveryChart"
---

<objective>
Migrate all debug page files (8) and DeliveryChart component, plus the large design-system page to TypeScript.

Purpose: Convert all debug pages with same typing rigor as production pages (per user decision). Design-system page is the largest file (2834 lines).
Output: 10 TypeScript files covering all debug page routes and the DeliveryChart component.
</objective>

<execution_context>
@/Users/federicomanfredi/.claude/get-shit-done/workflows/execute-plan.md
@/Users/federicomanfredi/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/41-pages-migration/41-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate 8 debug pages and DeliveryChart (9 files)</name>
  <files>
    app/debug/page.tsx
    app/debug/stove/page.tsx
    app/debug/transitions/page.tsx
    app/debug/weather-test/page.tsx
    app/debug/logs/page.tsx
    app/debug/api/page.tsx
    app/debug/notifications/page.tsx
    app/debug/notifications/test/page.tsx
    app/debug/notifications/components/DeliveryChart.tsx
  </files>
  <action>
    Use `git mv` for each file (.js -> .tsx), then add TypeScript typing.

    **IMPORTANT: Debug pages get SAME typing rigor as production pages (user decision).**

    **debug/page.js (416 lines):**
    - Debug hub with links to sub-pages
    - Type any debug tool state and test result interfaces

    **debug/stove/page.js (569 lines):**
    - Stove debug/test page — API testing interface
    - Type API test results, request/response data
    - Type test execution state

    **debug/transitions/page.js (346 lines):**
    - Page transition testing page
    - Type animation state and transition callbacks

    **debug/weather-test/page.js (65 lines):**
    - Weather API test page — small, simple typing

    **debug/logs/page.js (195 lines):**
    - Log viewer page
    - Type log entry interface (timestamp, level, message, source)

    **debug/api/page.js (152 lines):**
    - API debug page with tabs
    - Type active tab state and tab definitions

    **debug/notifications/page.js (494 lines):**
    - Notification admin dashboard
    - Type delivery metrics, device list, notification data
    - Type chart data structures

    **debug/notifications/test/page.js (431 lines):**
    - Notification test sender page
    - Type test payload, target selection, send result

    **debug/notifications/components/DeliveryChart.js (210 lines):**
    - Recharts component for delivery metrics
    - Define DeliveryChartProps interface
    - Type chart data: `{ date: string; sent: number; delivered: number; failed: number }[]`
    - Type Recharts component props (use existing Recharts types)

    **Anti-patterns to avoid:**
    - Do NOT treat debug pages as second-class (per user decision)
    - Do NOT use React.FC
    - Do NOT add async props to client pages
  </action>
  <verify>
    Run: `ls app/debug/page.tsx app/debug/stove/page.tsx app/debug/transitions/page.tsx app/debug/weather-test/page.tsx app/debug/logs/page.tsx app/debug/api/page.tsx app/debug/notifications/page.tsx app/debug/notifications/test/page.tsx app/debug/notifications/components/DeliveryChart.tsx`
    Confirm: All 9 files exist as .tsx
  </verify>
  <done>9 debug page/component files are .tsx with same typing rigor as production pages. DeliveryChart has typed chart data Props.</done>
</task>

<task type="auto">
  <name>Task 2: Migrate design-system page (1 large file, 2834 lines)</name>
  <files>
    app/debug/design-system/page.tsx
  </files>
  <action>
    Use `git mv` for the file (.js -> .tsx), then add TypeScript typing.

    **debug/design-system/page.js (2834 lines):**
    - Very large file — the design system interactive documentation page
    - This is a client component ('use client')
    - Edge-typing approach mandatory for this file size:
      1. Type all useState declarations with explicit types
      2. Type callback function parameters and return types
      3. Type component props interfaces used inline
      4. Type data structures referenced from component-docs
      5. Use pragmatic 'any' for complex internal rendering logic
    - Type active component state, search/filter state
    - Type any inline demo/preview state
    - Import types from component-docs data file (if already typed by Plan 06)
      - If component-docs not yet migrated, use inline types for now

    **Anti-patterns to avoid:**
    - Do NOT attempt to type every internal variable in a 2834-line file
    - Do NOT change any rendering behavior
    - Focus on: state declarations, handler signatures, data structure types
  </action>
  <verify>
    Run: `ls app/debug/design-system/page.tsx`
    Confirm: File exists as .tsx
    Run: `ls app/debug/design-system/page.js 2>/dev/null`
    Confirm: No .js original remains
  </verify>
  <done>Design-system page (2834 lines) is .tsx with pragmatic edge-typing. State and handler signatures are typed.</done>
</task>

</tasks>

<verification>
- All 10 files exist as .tsx
- `find app/debug -maxdepth 3 -name "page.js" 2>/dev/null` — returns empty
- DeliveryChart has Props interface with typed chart data
- Design-system page has typed state declarations
- Total: 10 files migrated
</verification>

<success_criteria>
- 10 files migrated from .js to .tsx with git mv
- Debug pages have same typing rigor as production pages
- DeliveryChart has typed Props with chart data interface
- Design-system large page uses edge-typing approach
- No debug page .js files remain
</success_criteria>

<output>
After completion, create `.planning/phases/41-pages-migration/41-05-SUMMARY.md`
</output>
