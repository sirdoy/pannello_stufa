---
phase: 41-pages-migration
plan: 06
type: execute
wave: 1
depends_on: []
files_modified:
  - app/debug/design-system/components/AccessibilitySection.tsx
  - app/debug/design-system/components/CodeBlock.tsx
  - app/debug/design-system/components/ComponentDemo.tsx
  - app/debug/design-system/components/PropTable.tsx
  - app/debug/design-system/data/component-docs.ts
  - app/debug/api/components/ApiTab.tsx
  - app/debug/api/components/tabs/FirebaseTab.tsx
  - app/debug/api/components/tabs/HueTab.tsx
  - app/debug/api/components/tabs/NetatmoTab.tsx
  - app/debug/api/components/tabs/SchedulerTab.tsx
  - app/debug/api/components/tabs/StoveTab.tsx
  - app/debug/api/components/tabs/WeatherTab.tsx
  - app/debug/components/ApiTab.tsx
  - app/debug/components/tabs/FirebaseTab.tsx
  - app/debug/components/tabs/HueTab.tsx
  - app/debug/components/tabs/NetatmoTab.tsx
  - app/debug/components/tabs/SchedulerTab.tsx
  - app/debug/components/tabs/StoveTab.tsx
  - app/debug/components/tabs/WeatherTab.tsx
autonomous: true

must_haves:
  truths:
    - "All 14 debug tab components have typed props and API test interfaces"
    - "Design-system doc components (4) have typed props"
    - "component-docs data file is .ts with typed documentation structure"
    - "No .js files remain in debug/ directory tree (excluding __tests__)"
  artifacts:
    - path: "app/debug/design-system/data/component-docs.ts"
      provides: "Typed component documentation data"
      min_lines: 1000
    - path: "app/debug/design-system/components/PropTable.tsx"
      provides: "PropTable with typed prop definitions"
      contains: "interface"
    - path: "app/debug/api/components/ApiTab.tsx"
      provides: "ApiTab with typed tab state and API test functions"
      contains: "interface"
    - path: "app/debug/api/components/tabs/StoveTab.tsx"
      provides: "StoveTab with typed API test state"
      contains: "interface"
  key_links:
    - from: "app/debug/design-system/page.tsx"
      to: "app/debug/design-system/data/component-docs.ts"
      via: "imports documentation data"
      pattern: "import.*component-docs"
    - from: "app/debug/design-system/page.tsx"
      to: "app/debug/design-system/components/"
      via: "imports PropTable, CodeBlock, etc."
      pattern: "import.*from.*[./]components/"
    - from: "app/debug/api/page.tsx"
      to: "app/debug/api/components/ApiTab.tsx"
      via: "imports ApiTab component"
      pattern: "import.*ApiTab"
---

<objective>
Migrate all debug co-located components: 14 API debug tab components, 4 design-system doc components, and 1 data file to TypeScript.

Purpose: Complete the debug vertical slice — all co-located components that support debug pages.
Output: 19 TypeScript files with typed props, API test interfaces, and documentation data structures.
</objective>

<execution_context>
@/Users/federicomanfredi/.claude/get-shit-done/workflows/execute-plan.md
@/Users/federicomanfredi/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/41-pages-migration/41-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate design-system doc components and data file (5 files)</name>
  <files>
    app/debug/design-system/components/AccessibilitySection.tsx
    app/debug/design-system/components/CodeBlock.tsx
    app/debug/design-system/components/ComponentDemo.tsx
    app/debug/design-system/components/PropTable.tsx
    app/debug/design-system/data/component-docs.ts
  </files>
  <action>
    Use `git mv` for each file, then add TypeScript typing.

    **Note:** component-docs.js -> component-docs.ts (NOT .tsx — it's a data file, no JSX)

    **design-system/components/AccessibilitySection.js (121 lines):**
    - git mv .js -> .tsx
    - Define AccessibilitySectionProps interface
    - Type accessibility data: keyboard shortcuts, ARIA attributes, screen reader text

    **design-system/components/CodeBlock.js (102 lines):**
    - git mv .js -> .tsx
    - Define CodeBlockProps: `{ code: string; language?: string }`

    **design-system/components/ComponentDemo.js (45 lines):**
    - git mv .js -> .tsx
    - Define ComponentDemoProps: component name, demo content

    **design-system/components/PropTable.js (90 lines):**
    - git mv .js -> .tsx
    - Define PropTableProps interface
    - Type prop definitions: `{ name: string; type: string; default?: string; description: string; required?: boolean }[]`

    **design-system/data/component-docs.js (1068 lines):**
    - git mv .js -> .ts (data file, not .tsx)
    - Define ComponentDoc interface:
      ```
      interface ComponentDoc {
        name: string;
        description: string;
        category: string;
        props: Array<{ name: string; type: string; default?: string; description: string; required?: boolean }>;
        keyboard: Array<{ key: string; action: string }>;
        aria: Array<{ attr: string; description: string }>;
        screenReader: string;
        codeExample: string;
      }
      ```
    - Type the export: `export const componentDocs: Record<string, ComponentDoc> = { ... }`
    - If some docs have additional/missing fields, adjust the interface or use optional properties
    - Pragmatic approach: if the structure varies too much, use `Record<string, any>` as fallback

    **Anti-patterns to avoid:**
    - Do NOT use .tsx for component-docs (it has no JSX)
    - Do NOT over-type component-docs if structure is inconsistent — pragmatic typing OK
  </action>
  <verify>
    Run: `ls app/debug/design-system/components/*.tsx app/debug/design-system/data/component-docs.ts`
    Confirm: All 5 files exist (4 .tsx + 1 .ts)
    Run: `find app/debug/design-system -name "*.js" 2>/dev/null`
    Confirm: No .js files remain
  </verify>
  <done>5 design-system files are TypeScript. component-docs.ts has typed documentation structure. Doc components have Props interfaces.</done>
</task>

<task type="auto">
  <name>Task 2: Migrate debug/api tab components (7 files)</name>
  <files>
    app/debug/api/components/ApiTab.tsx
    app/debug/api/components/tabs/FirebaseTab.tsx
    app/debug/api/components/tabs/HueTab.tsx
    app/debug/api/components/tabs/NetatmoTab.tsx
    app/debug/api/components/tabs/SchedulerTab.tsx
    app/debug/api/components/tabs/StoveTab.tsx
    app/debug/api/components/tabs/WeatherTab.tsx
  </files>
  <action>
    Use `git mv` for each file (.js -> .tsx), then add TypeScript typing.

    **ApiTab.js (270 lines):**
    - Main API test tab container
    - Define ApiTabProps interface (if it receives props from parent page)
    - Type active tab state
    - Type tab definitions array

    **All 6 tab components (FirebaseTab, HueTab, NetatmoTab, SchedulerTab, StoveTab, WeatherTab):**
    - Each tab is an API testing interface
    - For each: define XxxTabProps interface
    - Type API test state: `{ loading: boolean; result: any; error: string | null }`
    - Type test execution handlers
    - Type API endpoint URLs and request params
    - Use pragmatic 'any' for API response display (responses are for debugging, full typing not needed)
    - Type the test trigger callbacks with explicit parameter types

    **File sizes:** FirebaseTab (170), HueTab (236), NetatmoTab (236), SchedulerTab (204), StoveTab (299), WeatherTab (135)

    **Pattern for all tabs:**
    ```typescript
    interface XxxTabProps {
      // props from parent if any
    }

    interface ApiTestResult {
      loading: boolean;
      result: any;  // Pragmatic: debug output varies per endpoint
      error: string | null;
    }
    ```

    **Anti-patterns to avoid:**
    - Do NOT fully type API debug responses (they're for display only)
    - Do NOT use generic React event types where domain callbacks are used
  </action>
  <verify>
    Run: `ls app/debug/api/components/ApiTab.tsx app/debug/api/components/tabs/*.tsx`
    Confirm: All 7 files exist as .tsx
    Run: `find app/debug/api/components -name "*.js" 2>/dev/null`
    Confirm: No .js files remain
  </verify>
  <done>7 debug/api tab components are .tsx with typed Props and API test state interfaces.</done>
</task>

<task type="auto">
  <name>Task 3: Migrate debug/components tab components (7 files)</name>
  <files>
    app/debug/components/ApiTab.tsx
    app/debug/components/tabs/FirebaseTab.tsx
    app/debug/components/tabs/HueTab.tsx
    app/debug/components/tabs/NetatmoTab.tsx
    app/debug/components/tabs/SchedulerTab.tsx
    app/debug/components/tabs/StoveTab.tsx
    app/debug/components/tabs/WeatherTab.tsx
  </files>
  <action>
    Use `git mv` for each file (.js -> .tsx), then add TypeScript typing.

    **These are a SEPARATE set of tab components in debug/components/ (different from debug/api/components/).**
    They have similar structure but different content — treat each independently.

    **ApiTab.js (270 lines):**
    - Tab container component
    - Define ApiTabProps interface
    - Type tab state and definitions

    **All 6 tab components (same names as Task 2 but different directory):**
    - Each: define XxxTabProps interface
    - Type test state: loading, result, error
    - Type test handler functions
    - Pragmatic 'any' for debug API responses

    **File sizes:** FirebaseTab (170), HueTab (236), NetatmoTab (236), SchedulerTab (204), StoveTab (299), WeatherTab (135)

    **Important:** These files are NOT identical to the debug/api/components/ versions (confirmed via diff). Type each independently based on its actual content.

    **Anti-patterns to avoid:**
    - Do NOT assume these are copies of debug/api/components tabs
    - Do NOT skip typing because they're debug components (same rigor per user decision)
  </action>
  <verify>
    Run: `ls app/debug/components/ApiTab.tsx app/debug/components/tabs/*.tsx`
    Confirm: All 7 files exist as .tsx
    Run: `find app/debug/components -name "*.js" 2>/dev/null`
    Confirm: No .js files remain
    Run: `find app/debug -name "*.js" 2>/dev/null`
    Confirm: No .js files remain anywhere in debug/ (validates Plans 05 + 06 complete)
  </verify>
  <done>7 debug/components tab files are .tsx. Combined with Tasks 1 and 2, all 19 debug co-located component files are TypeScript. No .js files remain in debug/.</done>
</task>

</tasks>

<verification>
- `find app/debug -name "*.js" 2>/dev/null` — returns empty (no .js files in entire debug tree)
- All 19 files exist as .tsx/.ts
- component-docs has typed documentation structure
- All tab components have Props and API test state interfaces
- Total: 19 files migrated
</verification>

<success_criteria>
- 19 files migrated from .js to .tsx/.ts with git mv
- Design-system doc components have typed Props
- component-docs.ts has ComponentDoc interface (or pragmatic Record type)
- Both sets of debug tab components (api/components + components) have typed Props and test state
- No .js files remain anywhere in debug/ directory tree
</success_criteria>

<output>
After completion, create `.planning/phases/41-pages-migration/41-06-SUMMARY.md`
</output>
