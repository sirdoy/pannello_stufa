---
phase: 42-test-migration
plan: 05
type: execute
wave: 2
depends_on: ["42-01"]
files_modified:
  - app/components/ui/__tests__/Label.test.tsx
  - app/components/ui/__tests__/Modal.test.tsx
  - app/components/ui/__tests__/ModeIndicator.test.tsx
  - app/components/ui/__tests__/PageLayout.test.tsx
  - app/components/ui/__tests__/Panel.test.tsx
  - app/components/ui/__tests__/Popover.test.tsx
  - app/components/ui/__tests__/Progress.test.tsx
  - app/components/ui/__tests__/ProgressBar.test.tsx
  - app/components/ui/__tests__/RadioGroup.test.tsx
  - app/components/ui/__tests__/RightClickMenu.test.tsx
  - app/components/ui/__tests__/RoomSelector.test.tsx
  - app/components/ui/__tests__/Section.test.tsx
  - app/components/ui/__tests__/Select.test.tsx
  - app/components/ui/__tests__/Sheet.test.tsx
  - app/components/ui/__tests__/Slider.test.tsx
  - app/components/ui/__tests__/SmartHomeCard.test.tsx
  - app/components/ui/__tests__/Spinner.test.tsx
  - app/components/ui/__tests__/StatusBadge.test.tsx
  - app/components/ui/__tests__/StatusBadge.variants.test.tsx
  - app/components/ui/__tests__/StatusCard.test.tsx
  - app/components/ui/__tests__/Switch.test.tsx
  - app/components/ui/__tests__/Tabs.test.tsx
  - app/components/ui/__tests__/Text.test.tsx
  - app/components/ui/__tests__/Toast.test.tsx
  - app/components/ui/__tests__/Tooltip.test.tsx
autonomous: true

must_haves:
  truths:
    - "All 25 remaining UI component test files (L-Z) have .tsx extension"
    - "Zero .test.js files remain in app/components/ui/__tests__/"
    - "All UI component tests pass"
  artifacts:
    - path: "app/components/ui/__tests__/Select.test.tsx"
      provides: "Typed Select component test with Radix mocks"
    - path: "app/components/ui/__tests__/SmartHomeCard.test.tsx"
      provides: "Typed SmartHomeCard namespace component test"
    - path: "app/components/ui/__tests__/Tabs.test.tsx"
      provides: "Typed Tabs namespace component test"
  key_links:
    - from: "app/components/ui/__tests__/*.test.tsx"
      to: "app/components/ui/*.tsx"
      via: "import"
      pattern: "import.*from.*@/app/components/ui/"
---

<objective>
Migrate the second batch of 25 UI component test files (Label through Tooltip, alphabetically) from .test.js to .test.tsx.

Purpose: Completes TEST-02 requirement for UI component tests. After this plan, zero .test.js files remain in app/components/ui/__tests__/.
Output: 25 .test.tsx files replacing .test.js counterparts.
</objective>

<execution_context>
@/Users/federicomanfredi/.claude/get-shit-done/workflows/execute-plan.md
@/Users/federicomanfredi/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/42-test-migration/42-CONTEXT.md
@.planning/phases/42-test-migration/42-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate UI component tests L-R (13 files)</name>
  <files>
    app/components/ui/__tests__/Label.test.tsx
    app/components/ui/__tests__/Modal.test.tsx
    app/components/ui/__tests__/ModeIndicator.test.tsx
    app/components/ui/__tests__/PageLayout.test.tsx
    app/components/ui/__tests__/Panel.test.tsx
    app/components/ui/__tests__/Popover.test.tsx
    app/components/ui/__tests__/Progress.test.tsx
    app/components/ui/__tests__/ProgressBar.test.tsx
    app/components/ui/__tests__/RadioGroup.test.tsx
    app/components/ui/__tests__/RightClickMenu.test.tsx
    app/components/ui/__tests__/RoomSelector.test.tsx
    app/components/ui/__tests__/Section.test.tsx
    app/components/ui/__tests__/Select.test.tsx
  </files>
  <action>
For each of the 13 files:

1. `git mv app/components/ui/__tests__/{Name}.test.js app/components/ui/__tests__/{Name}.test.tsx`
2. Apply pragmatic typing for component tests:
   - Type DOM query results where property access requires it
   - Keep simple renders as-is
   - Mock handlers: `jest.fn()` — no additional typing
   - Convert top-level `require()` to `import`
3. Specific component notes:
   - **Modal.test**: May test portal rendering — works with migrated __mocks__/react-dom.ts
   - **Popover.test**: Radix UI interactions — use `as any` for complex trigger/content mocking
   - **RadioGroup.test**: Radix RadioGroup — type onValueChange callback if accessed
   - **RightClickMenu.test**: Uncontrolled Radix ContextMenu — minimal typing
   - **RoomSelector.test**: May have room data types — import from @/types if available, else inline
   - **Select.test**: Radix Select with Pointer Capture — use `as any` for mock events if needed

Process all 13 files, then run:
`npx jest --testPathPattern="app/components/ui/__tests__/(Label|Modal|ModeIndicator|PageLayout|Panel|Popover|Progress|ProgressBar|RadioGroup|RightClickMenu|RoomSelector|Section|Select)" --no-coverage 2>&1 | tail -20`
  </action>
  <verify>
0 .test.js files for L-S range. 13 .test.tsx files exist. Tests pass.
  </verify>
  <done>13 UI component tests (Label through Select) migrated to .test.tsx. Tests pass.</done>
</task>

<task type="auto">
  <name>Task 2: Migrate UI component tests S-T (12 files)</name>
  <files>
    app/components/ui/__tests__/Sheet.test.tsx
    app/components/ui/__tests__/Slider.test.tsx
    app/components/ui/__tests__/SmartHomeCard.test.tsx
    app/components/ui/__tests__/Spinner.test.tsx
    app/components/ui/__tests__/StatusBadge.test.tsx
    app/components/ui/__tests__/StatusBadge.variants.test.tsx
    app/components/ui/__tests__/StatusCard.test.tsx
    app/components/ui/__tests__/Switch.test.tsx
    app/components/ui/__tests__/Tabs.test.tsx
    app/components/ui/__tests__/Text.test.tsx
    app/components/ui/__tests__/Toast.test.tsx
    app/components/ui/__tests__/Tooltip.test.tsx
  </files>
  <action>
For each of the 12 files:

1. `git mv app/components/ui/__tests__/{Name}.test.js app/components/ui/__tests__/{Name}.test.tsx`
2. Apply same pragmatic typing patterns:
   - Simple components (Spinner, Text, Divider-like): Nearly no typing needed, just rename
   - **SmartHomeCard.test**: Namespace component test — may reference SmartHomeCard.Header, SmartHomeCard.Body etc. Type mock props if complex, else keep as-is
   - **StatusBadge.test + StatusBadge.variants.test**: Variant testing — type variant strings as literal union if referenced
   - **Tabs.test**: Namespace component (Tabs.List, Tabs.Trigger, Tabs.Content) — minimal typing
   - **Toast.test**: sonner toast mock — use `as any` for toast library mocking
   - **Tooltip.test**: Radix Tooltip — use `as any` for complex trigger content

Process all 12 files, then run:
`npx jest --testPathPattern="app/components/ui/__tests__/(Sheet|Slider|SmartHomeCard|Spinner|StatusBadge|StatusCard|Switch|Tabs|Text|Toast|Tooltip)" --no-coverage 2>&1 | tail -20`
  </action>
  <verify>
`find app/components/ui/__tests__ -name "*.test.js" | wc -l` returns 0
`find app/components/ui/__tests__ -name "*.test.tsx" | wc -l` returns 51
Tests pass.
  </verify>
  <done>All 12 remaining UI component tests (Sheet through Tooltip) migrated. Zero .test.js in app/components/ui/__tests__/. Total: 51 .test.tsx files.</done>
</task>

</tasks>

<verification>
1. `find app/components/ui/__tests__ -name "*.test.js" | wc -l` returns 0
2. `find app/components/ui/__tests__ -name "*.test.tsx" | wc -l` returns 51
3. `npx jest --testPathPattern="app/components/ui/__tests__" --no-coverage` — all 51 tests pass
</verification>

<success_criteria>
- All 51 UI component test files have .test.tsx extension
- Zero .test.js files remain in app/components/ui/__tests__/
- All tests pass (TEST-02 requirement for UI components fully satisfied)
</success_criteria>

<output>
After completion, create `.planning/phases/42-test-migration/42-05-SUMMARY.md`
</output>
